<h1 align="center">ğŸ¬ éŸ³è§†é¢‘å¼€å‘å­¦ä¹ è·¯çº¿ </h1>

<p align="center">
  ğŸŒŸ æœ¬ä»“åº“æ—¨åœ¨ä¸ºå­¦ä¹  éŸ³è§†é¢‘å¼€å‘ çš„åŒå­¦æä¾›ä¸€æ¡ç³»ç»ŸåŒ–çš„å­¦ä¹ è·¯çº¿
</p>

<p align="center">
  ğŸ’¡ æ¶µç›–ä»åŸºç¡€çŸ¥è¯†åˆ°å®æˆ˜é¡¹ç›®çš„èµ„æ–™ä¸ç¤ºä¾‹ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå…¥é—¨å¹¶é€æ­¥è¿›é˜¶  
</p>

---

## ğŸ“‘ ç›®å½•
- [ğŸ“Œ ä»“åº“ç›®æ ‡](#-ä»“åº“ç›®æ ‡)
- [ğŸŒŸ å­¦ä¹ è·¯çº¿](#-å­¦ä¹ è·¯çº¿)
- [ğŸ“– å­¦ä¹ é˜¶æ®µ](#-å­¦ä¹ é˜¶æ®µ)
- [ğŸ“š å­¦ä¹ èµ„æ–™](#-å­¦ä¹ èµ„æ–™)


---

## ğŸ“Œ ä»“åº“ç›®æ ‡
- ç³»ç»Ÿæ•´ç†éŸ³è§†é¢‘å¼€å‘çš„ **å­¦ä¹ è·¯çº¿**  
- æä¾› **åŸºç¡€çŸ¥è¯† + å·¥å…·æ¡†æ¶ + å®æˆ˜é¡¹ç›®** çš„å­¦ä¹ å‚è€ƒ  
- æ”¶å½• **å­¦ä¹ èµ„æ–™ã€ä¹¦ç±ã€å¼€æºé¡¹ç›®**ï¼Œé¿å…ä¿¡æ¯ç¢ç‰‡åŒ–  

---

## ğŸŒŸ å­¦ä¹ è·¯çº¿

```mermaid
graph TD
    A[è®¡ç®—æœºåŸºç¡€] --> B[éŸ³è§†é¢‘åŸºç¡€]
    B --> C[ç¼–è§£ç æŠ€æœ¯]
    C --> D[å¸¸ç”¨å·¥å…·ä¸æ¡†æ¶]
    D --> E[å®æˆ˜é¡¹ç›®]
    E --> F[è¿›é˜¶ä¸ä¼˜åŒ–]
```
---

## å­¦ä¹ èµ„æ–™

<h2 id="nav_6">ğŸ“™ ä¹¦ç±</h2>

No.|book nam|author
:------- | :--------------- | :------------
1|FFmpegä»å…¥é—¨åˆ°ç²¾é€š|åˆ˜æ­§, èµµæ–‡æ°
2|è§†é¢‘å›¾åƒå¤„ç†ä¸æ€§èƒ½ä¼˜åŒ–|æ¢å†›, è´¾æµ·é¹
3|æ•°å­—å›¾åƒä¸è§†é¢‘å¤„ç†|å¢å®˜æ˜, å”è´µè¿›, å´”å­å† 
4|æ•°å­—éŸ³è§†é¢‘æŠ€æœ¯åŠåº”ç”¨|é™ˆå…‰å†›
5|éŸ³è§†é¢‘å¼€å‘è¿›é˜¶æŒ‡å—ï¼šåŸºäºAndroidä¸iOSå¹³å°çš„å®è·µ|å±•æ™“å‡¯, é­æ™“çº¢
6|è§†é¢‘ç¼–ç å…¨è§’åº¦è¯¦è§£ï¼šAVS_Chinaã€H.264_MPEG-4_PART10ã€HEVCã€VP6ã€DIRACã€VC-1|åˆ˜æ­§, èµµæ–‡æ°
7|FFMPEG - From Zero to Hero|Nick, Ferrando|
8|FFmpeg Basics 2012|Frantisek Korbel|
9|Handbook on SDP for Multimedia Session Negotiations SIP and WebRTC IP Telephony |Roy, Radhika Ranjan|
10|Learning WebRTC|Dan Ristic|
11|Real-Time Communication with WebRTC |Salvatore Loreto, Simon Pietro Romano|


<h2 id="nav_8">ğŸ“° æ–‡ç« </h2>

No.|article
:------- | :--------------- 
1|[WebRTC å‘é€æ–¹ç ç‡é¢„ä¼°å®ç°è§£æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/001-WebRTC%20å‘é€æ–¹ç ç‡é¢„ä¼°å®ç°è§£æ.md)
2|[ç ç‡æ§åˆ¶åŸºæœ¬æ¦‚å¿µ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/002-ç ç‡æ§åˆ¶åŸºæœ¬æ¦‚å¿µ.md)
3|[Speexå›å£°æ¶ˆé™¤ä»£ç åˆ†æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/003-Speexå›å£°æ¶ˆé™¤ä»£ç åˆ†æ.md)
4|[æˆ¿é—´å£°å­¦åŸç†ä¸Schroederæ··å“ç®—æ³•å®ç°](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/004-æˆ¿é—´å£°å­¦åŸç†ä¸Schroederæ··å“ç®—æ³•å®ç°.md)
5|[H264ç³»åˆ—--å‹ç¼©ç¼–ç æŠ€æœ¯](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/005-H264ç³»åˆ—--å‹ç¼©ç¼–ç æŠ€æœ¯.md)
6|[RTSP åª’ä½“åè®®æµçš„å½•åˆ¶æ–¹æ¡ˆåŠå…¶è¦†ç›–ç­–ç•¥è¯¦è§£](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/006-RTSP%20åª’ä½“åè®®æµçš„å½•åˆ¶æ–¹æ¡ˆåŠå…¶è¦†ç›–ç­–ç•¥è¯¦è§£.md)
7|[å»ºç«‹è¿æ¥ä¹‹ICEæ¡†æ¶](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/007-webrtcå»ºç«‹è¿æ¥ä¹‹ICEæ¡†æ¶.md)
8|[æµåª’ä½“åè®®ä»‹ç»ï¼ˆrtp/rtcp/rtsp/rtmp/mms/hlsï¼‰](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/008-æµåª’ä½“åè®®ä»‹ç».md)
9|[éŸ³è§†é¢‘åŒæ­¥åŸç†åŠå®ç°](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/009-éŸ³è§†é¢‘åŒæ­¥åŸç†åŠå®ç°.md)
10|[ç›´æ’­æ¦‚å¿µå’Œæµç¨‹æ¡†æ¶](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/010-ç›´æ’­æ¦‚å¿µå’Œæµç¨‹æ¡†æ¶.md)
11|[CDNåœ¨ç›´æ’­ä¸­çš„è¿ç”¨](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/011-CDNåœ¨ç›´æ’­ä¸­çš„è¿ç”¨.md)
12|[å¸¸è§éŸ³è§†é¢‘ç¼–ç æ ¼å¼](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/012-å¸¸è§éŸ³è§†é¢‘ç¼–ç æ ¼å¼.md)
13|[H.264å®˜æ–¹è½¯ä»¶JMæºä»£ç åˆ†æ-ç¼–ç å™¨lencod](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/013-H.264å®˜æ–¹è½¯ä»¶JMæºä»£ç åˆ†æ-ç¼–ç å™¨lencod.md)
14|[H.264å®˜æ–¹è½¯ä»¶JMæºä»£ç åˆ†æ-è§£ç å™¨ldecod](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/014-H.264å®˜æ–¹è½¯ä»¶JMæºä»£ç åˆ†æ-è§£ç å™¨ldecod.md)
15|[Android éŸ³è§†é¢‘æŠ€æœ¯](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/015-Android%20éŸ³è§†é¢‘æŠ€æœ¯.md)
16|[Webå‰ç«¯WebRTCæ”»ç•¥-åª’ä½“åå•†ä¸SDPç®€æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/016-Webå‰ç«¯WebRTCæ”»ç•¥-åª’ä½“åå•†ä¸SDPç®€æ.md)
17|[åŸºäºFFmpegçš„AVfilterçš„ä¾‹å­-çº¯å‡€ç‰ˆ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/017-åŸºäºFFmpegçš„AVfilterçš„ä¾‹å­-çº¯å‡€ç‰ˆ.md)
18|[WebRTC ä¼ è¾“å®‰å…¨æœºåˆ¶ç¬¬äºŒè¯ï¼šæ·±å…¥æ˜¾å‡º SRTP åè®®](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/018-WebRTC%20ä¼ è¾“å®‰å…¨æœºåˆ¶ç¬¬äºŒè¯ï¼šæ·±å…¥æ˜¾å‡º%20SRTP%20åè®®.md)
19|[WebRTCèƒ½ç»™æˆ‘å¸¦æ¥ä»€ä¹ˆï¼Ÿ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/019-WebRTCèƒ½ç»™æˆ‘å¸¦æ¥ä»€ä¹ˆï¼Ÿ.md)
20|[è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šRGBã€YUVåƒç´ æ•°æ®å¤„ç†](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/020-è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šRGBã€YUVåƒç´ æ•°æ®å¤„ç†.md)
21|[è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šPCMéŸ³é¢‘é‡‡æ ·æ•°æ®å¤„ç†](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/021-è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šPCMéŸ³é¢‘é‡‡æ ·æ•°æ®å¤„ç†.md)
22|[è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šH.264è§†é¢‘ç æµè§£æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/022-è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šH.264è§†é¢‘ç æµè§£æ.md)
23|[è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šAACéŸ³é¢‘ç æµè§£æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/023-è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šAACéŸ³é¢‘ç æµè§£æ.md)
24|[è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šFLVå°è£…æ ¼å¼è§£æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/024-è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šFLVå°è£…æ ¼å¼è§£æ.md)
25|[è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šUDP-RTPåè®®è§£æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/025-è§†éŸ³é¢‘æ•°æ®å¤„ç†ï¼šUDP-RTPåè®®è§£æ.md)
26|[å¦‚ä½•ç”Ÿæˆmp4æ–‡ä»¶](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/026-å¦‚ä½•ç”Ÿæˆmp4æ–‡ä»¶.md)
27|[ffmpegæ»¤é•œçš„åŸºæœ¬ä½¿ç”¨](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/027-ffmpegæ»¤é•œçš„åŸºæœ¬ä½¿ç”¨.md)
28|[webRTCæ˜¯å¦‚ä½•å®ç°éŸ³è§†é¢‘çš„å½•åˆ¶](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/028-webRTCæ˜¯å¦‚ä½•å®ç°éŸ³è§†é¢‘çš„å½•åˆ¶.md)
29|[éŸ³è§†é¢‘åŒæ­¥ç®—æ³•](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/029-éŸ³è§†é¢‘åŒæ­¥ç®—æ³•.md)
30|[æˆ¿é—´å£°å­¦åŸç†ä¸Schroederæ··å“ç®—æ³•å®ç°](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/030-æˆ¿é—´å£°å­¦åŸç†ä¸Schroederæ··å“ç®—æ³•å®ç°.md)
31|[ä¸€ä¸ªé¢‘åŸŸè¯­éŸ³é™å™ªç®—æ³•å®ç°åŠæ”¹è¿›æ–¹æ³•](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/031-ä¸€ä¸ªé¢‘åŸŸè¯­éŸ³é™å™ªç®—æ³•å®ç°åŠæ”¹è¿›æ–¹æ³•.md)
32|[HEVCå®˜æ–¹è½¯ä»¶HMæºä»£ç åˆ†æ-ç¼–ç å™¨TAppEncoder](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/032-HEVCå®˜æ–¹è½¯ä»¶HMæºä»£ç åˆ†æ-ç¼–ç å™¨TAppEncoder.md)
33|[HEVCå®˜æ–¹è½¯ä»¶HMæºä»£ç åˆ†æ-è§£ç å™¨TAppDecoder](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/033-HEVCå®˜æ–¹è½¯ä»¶HMæºä»£ç åˆ†æ-è§£ç å™¨TAppDecoder.md)
34|[éŸ³è§†é¢‘ç¼–è§£ç å¸¸ç”¨çŸ¥è¯†ç‚¹](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/034-éŸ³è§†é¢‘ç¼–è§£ç å¸¸ç”¨çŸ¥è¯†ç‚¹.md)
35|[å¾®ä¿¡å°ç¨‹åºé›†æˆå®æ—¶éŸ³è§†é¢‘é€šè¯åŠŸèƒ½](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/035-å¾®ä¿¡å°ç¨‹åºé›†æˆå®æ—¶éŸ³è§†é¢‘é€šè¯åŠŸèƒ½.md)
36|[è§†éŸ³é¢‘ç¼–è§£ç æŠ€æœ¯é›¶åŸºç¡€å­¦ä¹ æ–¹æ³•](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/036-è§†éŸ³é¢‘ç¼–è§£ç æŠ€æœ¯é›¶åŸºç¡€å­¦ä¹ æ–¹æ³•.md)
37|[RTSPåè®®å­¦ä¹ ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/037-RTSPåè®®å­¦ä¹ .md)
38|[HEVCç æµåˆ†æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/038-HEVCç æµåˆ†æ.md)
39|[H.264ç®€å•ç æµåˆ†æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/039-H.264ç®€å•ç æµåˆ†æ.md)
40|[MPEG2ç®€å•ç æµåˆ†æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/040-MPEG2ç®€å•ç æµåˆ†æ.md)
41|[è§†é¢‘ç æµåˆ†æå·¥å…·](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/041-è§†é¢‘ç æµåˆ†æå·¥å…·.md)
42|[H.264åˆ†æå™¨](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/042-H.264åˆ†æå™¨.md)
43|[FFmpegæ¶æ„ä¹‹IOæ¨¡å—åˆ†æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/043-FFmpegæ¶æ„ä¹‹IOæ¨¡å—åˆ†æ.md)
44|[(Video and Audio Data Processing)UDP-RTPåè®®è§£æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/044-[Video%20and%20Audio%20Data%20Processing]%20UDP-RTPåè®®è§£æ.md)
45|[RTSPåè®®å®ä¾‹åˆ†æ](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/045-RTSPåè®®å®ä¾‹åˆ†æ.md)
46|[RTSPåè®®ä¹‹TCPæˆ–UDPé—®é¢˜](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/046-RTSPåè®®ä¹‹TCPæˆ–UDPé—®é¢˜.md)
47|[ffplayå·¥å…·å‘½ä»¤ä½¿ç”¨æŠ€å·§](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/047-ffplayå·¥å…·å‘½ä»¤ä½¿ç”¨æŠ€å·§.md)
48|[VLC RTSPç½‘ç»œä¸²æµæ’­æ”¾å¤±è´¥](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/048-VLC%20RTSPç½‘ç»œä¸²æµæ’­æ”¾å¤±è´¥.md)
49|[RTMPåè®®è¯¦è§£](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/049-RTMPåè®®è¯¦è§£.md)
50|[STUN åŸç†ç†è§£](https://github.com/0voice/awesome_audio_video_learning/blob/main/article/050-STUN%20åŸç†ç†è§£.md)

<br/>


---

## ğŸ“– å­¦ä¹ é˜¶æ®µ

## è®¡ç®—æœºåŸºç¡€çŸ¥è¯†

### 1. C/C++ åŸºç¡€ä¸ç¼–ç¨‹èŒƒå¼

å‡ ä¹æ‰€æœ‰æ ¸å¿ƒçš„éŸ³è§†é¢‘åº“ï¼ˆå¦‚ **FFmpegã€WebRTC**ï¼‰éƒ½æ˜¯ç”¨ C/C++ ç¼–å†™çš„ï¼Œå®ƒä»¬è¿½æ±‚æè‡´çš„æ€§èƒ½ã€‚  
é‚£ä¹ˆç†Ÿç»ƒæŒæ¡è¿™é—¨è¯­è¨€æ˜¯æ·±å…¥éŸ³è§†é¢‘å¼€å‘çš„å‰æã€‚

**C è¯­è¨€ï¼š**  
é‡ç‚¹åœ¨äºç†è§£**å†…å­˜ç®¡ç†**ï¼ˆ`malloc/free`ï¼‰ã€**æŒ‡é’ˆæ“ä½œ**ã€**ç»“æ„ä½“**ä»¥åŠ**å‡½æ•°æŒ‡é’ˆ**ã€‚è¿™äº›æ˜¯ç†è§£éŸ³è§†é¢‘ç¼–è§£ç å™¨åº•å±‚æ•°æ®ç»“æ„å’Œå›è°ƒå‡½æ•°çš„åŸºç¡€ã€‚

**C++ è¯­è¨€ï¼š**  
é‡ç‚¹æ˜¯**é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰** æ€æƒ³ã€‚åœ¨å¼€å‘éŸ³è§†é¢‘åº”ç”¨æ—¶ï¼Œä½ ä¼šå¤§é‡ä½¿ç”¨ç±»å’Œå¯¹è±¡æ¥å°è£…ç¼–è§£ç å™¨ã€æ’­æ”¾å™¨ã€ç½‘ç»œè¿æ¥ç­‰æ¨¡å—ï¼Œä½¿å…¶æ›´å…·å¯ç»´æŠ¤æ€§ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è®¾è®¡ä¸€ä¸ª `Player` ç±»ï¼Œå†…éƒ¨åŒ…å« `Decoder`ã€`Renderer` ç­‰å¯¹è±¡ã€‚

---

### 2. æ•°æ®ç»“æ„ä¸ç®—æ³•

éŸ³è§†é¢‘æ•°æ®é€šå¸¸ä»¥æµå¼ã€å—çŠ¶çš„å½¢å¼å¤„ç†ï¼Œé«˜æ•ˆçš„æ•°æ®ç»“æ„èƒ½æå¤§åœ°æå‡æ€§èƒ½ã€‚

**é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼š**  
åœ¨æ’­æ”¾å™¨ä¸­ï¼Œ**å¸§é˜Ÿåˆ—**ï¼ˆFrame Queueï¼‰æ˜¯æ ¸å¿ƒã€‚è§£ç åçš„éŸ³è§†é¢‘æ•°æ®ä¼šä»¥å¸§ä¸ºå•ä½å­˜å…¥é˜Ÿåˆ—ï¼Œç­‰å¾…æ¸²æŸ“çº¿ç¨‹å–å‡ºæ’­æ”¾ã€‚ä½ éœ€è¦ç†è§£**çº¿ç¨‹å®‰å…¨é˜Ÿåˆ—**çš„å®ç°ï¼Œä»¥åº”å¯¹å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ•°æ®åŒæ­¥ã€‚

**å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ï¼š**  
ç”¨äºå¿«é€ŸæŸ¥æ‰¾å’Œæ˜ å°„ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨å’ŒæŸ¥æ‰¾ä¸åŒç¼–ç æ ¼å¼çš„å‚æ•°ã€‚

**ç¼“å†²åŒºï¼ˆCircular Bufferï¼‰ï¼š**  
å¾ªç¯ç¼“å†²åŒºåœ¨å¤„ç†å®æ—¶æ•°æ®æµæ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æœ‰æ•ˆç®¡ç†å†…å­˜ï¼Œé¿å…é¢‘ç¹çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ã€‚

---

### 3. æ“ä½œç³»ç»Ÿä¸å¤šçº¿ç¨‹

éŸ³è§†é¢‘å¤„ç†æ˜¯å…¸å‹çš„**å¤šä»»åŠ¡å¹¶è¡Œ**åœºæ™¯ã€‚  
ä¸€ä¸ªæ’­æ”¾å™¨è‡³å°‘éœ€è¦ï¼š
1.  **ç½‘ç»œçº¿ç¨‹**ï¼šè´Ÿè´£ä»ç½‘ç»œæ‹‰å–æ•°æ®ã€‚
2.  **è§£ç çº¿ç¨‹**ï¼šè´Ÿè´£å¯¹æ•°æ®è¿›è¡Œè§£å‹ã€‚
3.  **æ¸²æŸ“çº¿ç¨‹**ï¼šè´Ÿè´£å°†è§£ç åçš„æ•°æ®æ¸²æŸ“åˆ°å±å¹•å’Œå£°å¡ã€‚
4.  **æ§åˆ¶çº¿ç¨‹**ï¼šè´Ÿè´£ç”¨æˆ·äº¤äº’å’Œæ’­æ”¾æ§åˆ¶ã€‚

**[çº¿ç¨‹ä¸è¿›ç¨‹](https://github.com/0voice/awesome_audio_video_learning/blob/main/%E5%AD%A6%E4%B9%A0%E9%98%B6%E6%AE%B5/%E7%BA%BF%E7%A8%8B%E4%B8%8E%E8%BF%9B%E7%A8%8B%EF%BC%9A%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%9A%84%E5%9F%BA%E7%A1%80.md)**  
ç†è§£å®ƒä»¬çš„åŒºåˆ«å’Œé€šä¿¡æ–¹å¼ã€‚(ç‚¹å‡»è·³è½¬æŸ¥çœ‹æ›´è¯¦ç»†çš„è§£é‡Š)

**åŒæ­¥ä¸äº’æ–¥ï¼š**  
æŒæ¡**äº’æ–¥é”ï¼ˆMutexï¼‰**ã€**æ¡ä»¶å˜é‡ï¼ˆCondition Variableï¼‰**ã€**ä¿¡å·é‡ï¼ˆSemaphoreï¼‰** ç­‰å·¥å…·ï¼Œä»¥ç¡®ä¿åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œæ•°æ®è®¿é—®çš„æ­£ç¡®æ€§ã€‚é¿å…å‡ºç°æ­»é”ã€ç«æ€æ¡ä»¶ç­‰é—®é¢˜ã€‚

**çº¿ç¨‹æ± ï¼š**  
åœ¨å¤„ç†å¤šä¸ªä»»åŠ¡æ—¶ï¼ˆå¦‚æ‰¹é‡è½¬ç ï¼‰ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥æœ‰æ•ˆç®¡ç†èµ„æºï¼Œå‡å°‘çº¿ç¨‹åˆ›å»ºå’Œé”€é”€æ¯çš„å¼€é”€ã€‚

---

### 4. è®¡ç®—æœºç½‘ç»œ

æ— è®ºæ˜¯ç›´æ’­ã€ç‚¹æ’­ï¼Œè¿˜æ˜¯å®æ—¶é€šä¿¡ï¼ŒéŸ³è§†é¢‘æ•°æ®éƒ½å¿…é¡»è·¨è¶Šç½‘ç»œä¼ è¾“ã€‚  
ä¸åŒçš„ç½‘ç»œåè®®å°±åƒä¸åŒçš„è¿è¾“æ–¹å¼ï¼Œå„æœ‰åˆ©å¼Šï¼Œç†è§£å®ƒä»¬çš„ç‰¹æ€§æ‰èƒ½åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚

#### TCP vs UDP
è¿™æ˜¯ç½‘ç»œåè®®ä¸­æœ€æ ¸å¿ƒçš„ä¸€å¯¹æ¦‚å¿µï¼Œåœ¨éŸ³è§†é¢‘é¢†åŸŸæœ‰å„è‡ªçš„ç”¨æ­¦ä¹‹åœ°ã€‚

**TCP (ä¼ è¾“æ§åˆ¶åè®®)**

ç‰¹æ€§ï¼š å¯é ã€é¢å‘è¿æ¥ã€å…¨åŒå·¥ã€‚å®ƒç¡®ä¿æ•°æ®æŒ‰åºã€å®Œæ•´åœ°é€è¾¾ï¼Œå°±åƒå¯„é€ä¸€å°æŒ‚å·ä¿¡ï¼Œæ¯ä¸€æ­¥éƒ½å¾—åˆ°ç¡®è®¤ã€‚

æ ¸å¿ƒæœºåˆ¶ï¼š ä¸‰æ¬¡æ¡æ‰‹ï¼ˆå»ºç«‹è¿æ¥ï¼‰ã€å››æ¬¡æŒ¥æ‰‹ï¼ˆæ–­å¼€è¿æ¥ï¼‰ã€åºåˆ—å·å’Œç¡®è®¤åº”ç­”ï¼ˆç¡®ä¿æ•°æ®ä¸ä¸¢ï¼‰ã€æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ï¼ˆé˜²æ­¢å‘é€æ–¹é€Ÿåº¦è¿‡å¿«ï¼Œå¯¼è‡´ç½‘ç»œæ‹¥å µï¼‰ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š

- ä¼ ç»Ÿç›´æ’­æ¨æµï¼š æœ€ç»å…¸çš„RTMPï¼ˆå®æ—¶æ¶ˆæ¯ä¼ è¾“åè®®ï¼‰å°±æ˜¯åŸºäº TCP çš„ã€‚å®ƒç¡®ä¿æ¯ä¸€å¸§æ•°æ®éƒ½èƒ½åˆ°è¾¾æœåŠ¡å™¨ï¼Œä½†ä¸€æ—¦ç½‘ç»œçŠ¶å†µä¸ä½³ï¼Œä¼šå› ä¸ºé‡ä¼ æœºåˆ¶å¯¼è‡´å»¶è¿Ÿç´¯ç§¯ã€‚

- ç‚¹æ’­ï¼š HTTPï¼ˆåŸºäº TCPï¼‰æ˜¯ç‚¹æ’­çš„æ ¸å¿ƒï¼Œå®ƒç¡®ä¿ä½ ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶æ˜¯å®Œæ•´çš„ã€‚

**UDP (ç”¨æˆ·æ•°æ®æŠ¥åè®®)**

ç‰¹æ€§ï¼š ä¸å¯é ã€æ— è¿æ¥ã€è½»é‡çº§ã€‚å®ƒåªç®¡å‘é€æ•°æ®åŒ…ï¼Œä¸ç®¡å¯¹æ–¹æ˜¯å¦æ”¶åˆ°ï¼Œå°±åƒæ‰”ä¸€ä¸ªåŒ…è£¹ï¼Œä¸ä¿è¯ä¸€å®šé€è¾¾ã€‚

æ ¸å¿ƒæœºåˆ¶ï¼š å‡ ä¹æ²¡æœ‰ï¼Œå¼€é”€æä½ã€‚å®ƒä¸è¿›è¡Œæ¡æ‰‹ã€é‡ä¼ æˆ–æ‹¥å¡æ§åˆ¶ï¼Œå› æ­¤é€Ÿåº¦å¿«ã€å»¶è¿Ÿä½ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š

- å®æ—¶é€šä¿¡ï¼š WebRTC å°±æ˜¯åŸºäº UDP çš„ï¼Œç”¨äºéŸ³è§†é¢‘é€šè¯ã€‚å› ä¸ºå¯¹å®æ—¶æ€§çš„è¦æ±‚æé«˜ï¼Œå³ä½¿ä¸¢å¼ƒéƒ¨åˆ†æ•°æ®ï¼ˆæ¯”å¦‚ä¸€ä¸¤å¸§ï¼‰ï¼Œä¹Ÿæ¯”ç­‰å¾…é‡ä¼ å¯¼è‡´å¡é¡¿è¦å¥½ã€‚

- ç›´æ’­æ¨æµï¼š éƒ¨åˆ†ä½å»¶è¿Ÿç›´æ’­æ–¹æ¡ˆä¼šé€‰æ‹©åŸºäº UDPï¼Œæ¯”å¦‚ SRTï¼ˆSecure Reliable Transportï¼‰åè®®ï¼Œå®ƒåœ¨ UDP çš„åŸºç¡€ä¸Šå¢åŠ äº†è‡ªå·±çš„ä¸¢åŒ…æ¢å¤å’Œæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œå…¼é¡¾äº†ä½å»¶è¿Ÿå’Œå¯é æ€§ã€‚

#### HTTP/HTTPSï¼šç‚¹æ’­æµåª’ä½“çš„åŸºçŸ³

HTTP æ˜¯æœ€é€šç”¨çš„ç½‘ç»œåè®®ï¼Œå®ƒä»¥å…¶ç®€å•ã€è·¨å¹³å°å’Œæ˜“äºéƒ¨ç½²çš„ä¼˜åŠ¿ï¼Œæˆä¸ºç‚¹æ’­å’Œéƒ¨åˆ†ç›´æ’­çš„æ ¸å¿ƒã€‚

**æ ¸å¿ƒæœºåˆ¶ï¼š**

- è¯·æ±‚-å“åº”æ¨¡å‹ï¼š å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›æ•°æ®ã€‚

- HTTP Range è¯·æ±‚ï¼š å…è®¸å®¢æˆ·ç«¯è¯·æ±‚æ–‡ä»¶çš„æŸä¸ªç‰¹å®šå­—èŠ‚èŒƒå›´ã€‚è¿™å¯¹äºå¤§æ–‡ä»¶çš„æ’­æ”¾è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ï¼Œæ’­æ”¾å™¨å¯ä»¥åªä¸‹è½½è§†é¢‘çš„å¼€å¤´éƒ¨åˆ†è¿›è¡Œæ’­æ”¾ï¼ŒåŒæ—¶åœ¨åå°ç»§ç»­ä¸‹è½½å‰©ä½™éƒ¨åˆ†ï¼Œå®ç°äº†è¾¹ä¸‹è¾¹æ’­ã€‚

- ç¼“å­˜æœºåˆ¶ï¼š åˆ©ç”¨ Cache-Control å’Œ ETag ç­‰å¤´ä¿¡æ¯ï¼Œå¯ä»¥æŒ‡å¯¼æµè§ˆå™¨å’Œ CDN ç¼“å­˜åª’ä½“èµ„æºï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›ï¼ŒåŠ é€ŸäºŒæ¬¡è®¿é—®ã€‚

**åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š**

- HLS (HTTP Live Streaming)ï¼š è‹¹æœå…¬å¸æ¨å‡ºçš„æµåª’ä½“åè®®ã€‚å®ƒå°†ä¸€ä¸ªé•¿çš„è§†é¢‘æµåˆ‡åˆ†æˆä¸€ç³»åˆ—å°çš„ .ts (MPEG-2 Transport Stream) æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª .m3u8 æ’­æ”¾åˆ—è¡¨ã€‚æ’­æ”¾å™¨é€šè¿‡è§£æ .m3u8 æ–‡ä»¶ï¼ŒæŒ‰é¡ºåºè¯·æ±‚è¿™äº› .ts ç‰‡æ®µæ¥æ’­æ”¾ã€‚

- MPEG-DASH (Dynamic Adaptive Streaming over HTTP)ï¼š ç±»ä¼¼äº HLSï¼Œä½†å®ƒæ˜¯å¼€æ”¾æ ‡å‡†ã€‚å®ƒä¹Ÿåˆ©ç”¨ HTTP ä¼ è¾“ï¼Œå°†å†…å®¹åˆ†æˆå¤šä¸ªç‰‡æ®µï¼Œå¹¶æä¾›ä¸åŒç ç‡çš„ç‰ˆæœ¬ä»¥é€‚åº”ä¸åŒçš„ç½‘ç»œçŠ¶å†µã€‚

#### WebSocketï¼šå®æ—¶äº¤äº’çš„ä¿¡ä½¿

WebSocket æ˜¯ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„åè®®ã€‚ä¸ HTTP çš„è¯·æ±‚-å“åº”æ¨¡å¼ä¸åŒï¼Œå®ƒå…è®¸æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š

- WebRTC ä¿¡ä»¤ï¼š WebRTC æœ¬èº«ä¸æä¾›ä¿¡ä»¤æœºåˆ¶ï¼Œå®ƒéœ€è¦ä¸€ä¸ªå¤–éƒ¨é€šé“æ¥äº¤æ¢å…ƒæ•°æ®ï¼ˆå¦‚ä¼šè¯æè¿°åè®® SDP å’Œ ICE å€™é€‰ï¼‰ã€‚WebSocket å› ä¸ºå…¶ä½å»¶è¿Ÿå’ŒæŒä¹…è¿æ¥çš„ç‰¹æ€§ï¼Œéå¸¸é€‚åˆä½œä¸ºè¿™ä¸ªä¿¡ä»¤é€šé“ã€‚

- å¼¹å¹•ã€èŠå¤©å®¤ï¼š åœ¨ç›´æ’­åœºæ™¯ä¸­ï¼Œå¼¹å¹•å’ŒèŠå¤©æ¶ˆæ¯ä¹Ÿæ˜¯é€šè¿‡ WebSocket æ¥å®ç°çš„ã€‚

#### QUICï¼šä¸‹ä¸€ä»£æµåª’ä½“çš„å¸Œæœ›

QUIC æ˜¯ä¸€ç§æ–°çš„ä¼ è¾“åè®®ï¼Œå®ƒåŸºäº UDPï¼Œå¹¶é›†æˆäº† TCP çš„è®¸å¤šä¼˜ç‚¹ã€‚å®ƒè¢«è®¤ä¸ºæ˜¯æœªæ¥éŸ³è§†é¢‘ä¼ è¾“çš„é©å‘½æ€§æŠ€æœ¯ã€‚

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**

- å¿«é€Ÿè¿æ¥å»ºç«‹ï¼š 0-RTT æˆ– 1-RTT æ¡æ‰‹ï¼Œæ¯” TCP çš„ä¸‰æ¬¡æ¡æ‰‹å¿«å¾—å¤šã€‚

- å¤šè·¯å¤ç”¨ï¼š å³ä½¿ä¸€ä¸ªæ•°æ®æµå‘ç”Ÿä¸¢åŒ…ï¼Œä¹Ÿä¸ä¼šé˜»å¡åŒä¸€è¿æ¥ä¸Šçš„å…¶ä»–æ•°æ®æµï¼Œè§£å†³äº† HTTP/2 çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ã€‚è¿™å¯¹äºåŒæ—¶ä¼ è¾“è§†é¢‘å’ŒéŸ³é¢‘æ•°æ®éå¸¸æœ‰ç”¨ã€‚

- æ›´å¥½çš„æ‹¥å¡æ§åˆ¶ï¼š QUIC æ‹¥æœ‰æ›´æ™ºèƒ½çš„æ‹¥å¡æ§åˆ¶ç®—æ³•ã€‚

- è¿æ¥è¿ç§»ï¼š å®¢æˆ·ç«¯å¯ä»¥ä» Wi-Fi åˆ‡æ¢åˆ°èœ‚çªç½‘ç»œï¼Œè€Œæ— éœ€æ–­å¼€è¿æ¥ã€‚

---

## éŸ³è§†é¢‘åŸºç¡€

### 00-åŸºç¡€ç†è®ºï¼šéŸ³è§†é¢‘å¤„ç†çš„åŸºçŸ³

#### ä¸€ã€éŸ³é¢‘åŸºç¡€

æ•°å­—éŸ³é¢‘æ˜¯å¯¹è¿ç»­å£°æ³¢çš„ç¦»æ•£åŒ–å’Œæ•°å­—åŒ–è¡¨ç¤ºã€‚

#### 1. é‡‡æ · (Sampling)

**æ¦‚å¿µï¼š** é‡‡é›†å£°æ³¢åœ¨æ—¶é—´ä¸Šçš„å¹…åº¦å€¼ã€‚

**å…³é”®ï¼š** å¿…é¡»éµå¾ªå¥ˆå¥æ–¯ç‰¹é‡‡æ ·å®šç†ã€‚è¯¥å®šç†æŒ‡å‡ºï¼Œä¸ºäº†å®Œæ•´åœ°ä¿ç•™éŸ³é¢‘ä¿¡æ¯ï¼Œé‡‡æ ·ç‡å¿…é¡»è‡³å°‘æ˜¯å£°æ³¢æœ€é«˜é¢‘ç‡çš„ä¸¤å€ã€‚

**é‡‡æ ·ç‡ï¼š** å•ä½æ˜¯ Hzï¼ˆèµ«å…¹ï¼‰ï¼Œè¡¨ç¤ºæ¯ç§’é‡‡é›†çš„æ ·æœ¬æ•°ã€‚

- ä¾‹å¦‚ï¼š44100 Hz æ˜¯ CD çº§éŸ³è´¨çš„æ ‡å‡†ï¼Œå› ä¸ºå®ƒèƒ½æ•æ‰åˆ°äººè€³å¬è§‰èŒƒå›´ï¼ˆçº¦ 20kHzï¼‰å†…çš„æ‰€æœ‰å£°éŸ³ã€‚

#### 2. é‡åŒ– (Quantization)

**æ¦‚å¿µ**ï¼š å°†é‡‡æ ·å¾—åˆ°çš„è¿ç»­å¹…åº¦å€¼è½¬æ¢ä¸ºç¦»æ•£çš„æ•°å­—å€¼ã€‚

**ä½æ·±ï¼š** ä¹Ÿç§°é‡‡æ ·ç²¾åº¦æˆ–é‡åŒ–ä½æ•°ï¼Œè¡¨ç¤ºç”¨äºå­˜å‚¨æ¯ä¸ªæ ·æœ¬çš„æ¯”ç‰¹æ•°ã€‚

- ä¾‹å¦‚ï¼š16 ä½ï¼ˆ16-bitï¼‰è¡¨ç¤ºå¹…åº¦æœ‰ 2^16 =65536 ä¸ªçº§åˆ«ã€‚æ›´é«˜çš„ä½æ·±èƒ½æä¾›æ›´é«˜çš„åŠ¨æ€èŒƒå›´å’Œæ›´å°çš„é‡åŒ–è¯¯å·®ï¼ˆå³æ›´å¥½çš„éŸ³è´¨ï¼‰ã€‚

#### 3. PCM (Pulse-Code Modulation)

**æ¦‚å¿µï¼š** è„‰å†²ç¼–ç è°ƒåˆ¶ï¼Œæ˜¯åŸå§‹çš„ã€æœªå‹ç¼©çš„æ•°å­—éŸ³é¢‘æ ¼å¼ã€‚å®ƒæ˜¯é€šè¿‡é‡‡æ ·å’Œé‡åŒ–å¾—åˆ°çš„ã€‚

**æ•°æ®é‡è®¡ç®—ï¼š** åŸå§‹éŸ³é¢‘æ•°æ®é‡ï¼ˆç ç‡ï¼‰ä¸ºï¼šç ç‡Â (bps)=é‡‡æ ·ç‡Ã—ä½æ·±Ã—å£°é“æ•°

**å£°é“ï¼š** è¡¨ç¤ºå£°éŸ³çš„æ¥æºæ•°é‡ã€‚å¸¸è§çš„æœ‰ï¼š

- å•å£°é“ (Mono)ï¼š 1 ä¸ªå£°é“ã€‚

- ç«‹ä½“å£° (Stereo)ï¼š 2 ä¸ªå£°é“ï¼ˆå·¦ã€å³ï¼‰ã€‚

- ç¯ç»•å£°ï¼š 5.1 æˆ– 7.1 å£°é“ï¼ˆæä¾›æ›´å…·æ²‰æµ¸æ„Ÿçš„ä½“éªŒï¼‰ã€‚

---
#### äºŒã€è§†é¢‘åŸºç¡€ 

æ•°å­—è§†é¢‘æ˜¯ä¸€ç³»åˆ—é™æ€å›¾åƒï¼ˆå¸§ï¼‰çš„å¿«é€Ÿè¿ç»­æ’­æ”¾ã€‚

#### 1. å›¾åƒä¸åƒç´ 

**åƒç´ ï¼š** æ„æˆæ•°å­—å›¾åƒçš„æœ€å°å•ä½ã€‚

**åˆ†è¾¨ç‡ï¼š** å›¾åƒçš„æ€»å¤§å°ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºå®½åº¦ Ã— é«˜åº¦ã€‚ä¾‹å¦‚ï¼Œ1920x1080 (Full HD)ã€‚

#### 2. æ—¶é—´ç»´åº¦ï¼šå¸§ä¸å¸§ç‡

**å¸§ï¼š** è§†é¢‘ä¸­çš„å•å¼ é™æ€å›¾åƒã€‚

**å¸§ç‡ï¼š** å•ä½æ˜¯ fpsï¼ˆFrames Per Secondï¼‰ï¼Œè¡¨ç¤ºæ¯ç§’æ’­æ”¾çš„å›¾åƒæ•°é‡ã€‚

> å¸¸è§çš„å¸§ç‡ï¼š24 fpsï¼ˆç”µå½±æ ‡å‡†ï¼‰ã€30 fpsã€60 fpsï¼ˆé«˜å¸§ç‡æ¸¸æˆ/ä½“è‚²èµ›äº‹ï¼‰ã€‚æ›´é«˜çš„å¸§ç‡èƒ½æä¾›æ›´æµç•…çš„è§†è§‰ä½“éªŒã€‚

#### 3. æ‰«ææ–¹å¼ï¼šéš”è¡Œä¸é€è¡Œ

**é€è¡Œæ‰«æï¼š** æ¯æ¬¡éƒ½æ‰«æå¹¶æ˜¾ç¤ºæ•´ä¸ªå¸§ã€‚

- ä¾‹å¦‚ï¼š1080p (ç°ä»£ä¸»æµï¼Œç”»é¢æ¸…æ™°ç¨³å®š)ã€‚

**éš”è¡Œæ‰«æï¼š** å°†ä¸€å¸§ç”»é¢åˆ†ä¸ºå¥‡æ•°è¡Œå’Œå¶æ•°è¡Œä¸¤ä¸ªåœº (Field)ï¼Œåˆ†ä¸¤æ¬¡æ‰«æã€‚

- ä¾‹å¦‚ï¼š1080i (ä¼ ç»Ÿç”µè§†æ ‡å‡†ï¼Œä¼˜ç‚¹æ˜¯å¸¦å®½éœ€æ±‚ä½ï¼Œä½†å¿«é€Ÿè¿åŠ¨æ—¶å®¹æ˜“å‡ºç°é”¯é½¿æˆ–é—ªçƒ)ã€‚

#### 4. è‰²å½©ç©ºé—´ï¼šYUV vs RGB

**RGBï¼š** æœ€å¸¸è§çš„è‰²å½©ç©ºé—´ï¼Œç”¨äºæ˜¾ç¤ºè®¾å¤‡ï¼ˆå¦‚å±å¹•ï¼‰ã€‚å®ƒå°†é¢œè‰²åˆ†è§£ä¸ºçº¢ã€ç»¿ã€è“ä¸‰ç§å…‰çš„ä¸‰åŸè‰²åˆ†é‡ã€‚

**YUVï¼š** ç”¨äºè§†é¢‘é‡‡é›†ã€å¤„ç†å’Œå­˜å‚¨ã€‚

- Y åˆ†é‡ï¼š äº®åº¦ï¼Œå†³å®šå›¾åƒçš„æ˜æš—ç¨‹åº¦ã€‚

- U/V åˆ†é‡ï¼š è‰²åº¦/è‰²å·®ï¼Œå†³å®šå›¾åƒçš„é¢œè‰²ã€‚

- é‡è¦æ€§ï¼š äººçœ¼å¯¹äº®åº¦æ¯”å¯¹è‰²åº¦æ›´æ•æ„Ÿã€‚åœ¨ç¼–ç æ—¶ï¼Œå¯ä»¥ä¿ç•™å…¨éƒ¨ Y åˆ†é‡ï¼Œè€Œå¯¹ U/V åˆ†é‡è¿›è¡Œæ¬ é‡‡æ ·ï¼ˆå¦‚ YUV420Pï¼‰ï¼Œä»è€Œåœ¨ä¸æ˜æ˜¾å½±å“æ„ŸçŸ¥ç”»è´¨çš„å‰æä¸‹ï¼Œå¤§å¹…å‡å°‘è§†é¢‘æ•°æ®é‡ï¼Œè¿™æ˜¯è§†é¢‘å‹ç¼©çš„åŸºç¡€ã€‚

---

#### ä¸‰ã€æ—¶é’Ÿä¸åŒæ­¥

åœ¨éŸ³è§†é¢‘æµåª’ä½“ä¸­ï¼ŒéŸ³é¢‘å’Œè§†é¢‘å¿…é¡»ç²¾ç¡®å¯¹é½æ‰èƒ½ä¿è¯æ’­æ”¾æ­£å¸¸ã€‚

#### 1. æ—¶é—´æˆ³

æ—¶é—´æˆ³æ˜¯æµåª’ä½“ä¸­ç”¨æ¥æ ‡è®°æ•°æ®æ’­æ”¾æ—¶é—´ç‚¹çš„å…³é”®ä¿¡æ¯ã€‚

**DTSï¼š** è§£ç æ—¶é—´æˆ³ã€‚æŒ‡æ˜æ•°æ®åŒ…åº”è¯¥è¢«é€å…¥è§£ç å™¨è¿›è¡Œè§£ç çš„é¡ºåºã€‚å®ƒé€šå¸¸ç”¨äºæœ‰ B å¸§ï¼ˆåŒå‘é¢„æµ‹å¸§ï¼‰çš„ç¼–ç åºåˆ—ä¸­ï¼Œå› ä¸º B å¸§çš„è§£ç ä¾èµ–äºå…¶å‰åçš„ I/P å¸§ã€‚

**PTSï¼š** æ˜¾ç¤ºæ—¶é—´æˆ³ã€‚æŒ‡æ˜æ•°æ®åŒ…åº”è¯¥åœ¨ä½•æ—¶æ˜¾ç¤ºæˆ–æ’­æ”¾çš„é¡ºåºã€‚è¿™æ˜¯æ’­æ”¾å™¨ç”¨æ¥è¿›è¡Œ A/V åŒæ­¥å’Œæ§åˆ¶æ’­æ”¾é€Ÿåº¦çš„æ ¸å¿ƒä¾æ®ã€‚

#### 2. A/V åŒæ­¥

**é—®é¢˜ï¼š** éŸ³é¢‘å’Œè§†é¢‘æ•°æ®åœ¨é‡‡é›†ã€ä¼ è¾“å’Œè§£ç è¿‡ç¨‹ä¸­ï¼Œé€Ÿåº¦å¯èƒ½ä¼šä¸ä¸€è‡´ï¼Œå¯¼è‡´éŸ³ç”»ä¸åŒæ­¥ï¼ˆå¦‚å£°éŸ³æ¯”ç”»é¢å¿«æˆ–æ…¢ï¼‰ã€‚

**åŸç†ï¼š** æ’­æ”¾å™¨é€šå¸¸é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ—¶é—´è½´ä½œä¸ºä¸»æ—¶é’Ÿï¼ˆå¦‚ï¼šä»¥éŸ³é¢‘æ—¶é’Ÿä¸ºä¸»ï¼Œå› ä¸ºäººå¯¹å£°éŸ³å»¶è¿Ÿæ›´æ•æ„Ÿï¼‰ï¼Œç„¶åæ ¹æ® PTSï¼Œå¯¹å¦ä¸€ä¸ªæµï¼ˆè§†é¢‘ï¼‰è¿›è¡Œå¿«æ”¾ã€æ…¢æ”¾æˆ–ä¸¢å¸§/è¡¥å¸§çš„æ“ä½œï¼Œä»¥ä½¿å…¶ä¸ä¸»æ—¶é’Ÿä¿æŒä¸€è‡´ã€‚

---
### 01-å‹ç¼©ä¸ç¼–ç ï¼šæŒæ¡æ•°æ®å˜å°çš„ç§˜å¯†

åŸå§‹çš„éŸ³è§†é¢‘æ•°æ®ï¼ˆPCM å’Œ YUVï¼‰æ•°æ®é‡å·¨å¤§ï¼Œæ— æ³•åœ¨ç½‘ç»œä¸Šä¼ è¾“æˆ–åœ¨è®¾å¤‡ä¸Šå­˜å‚¨ã€‚ç¼–ç ï¼ˆæˆ–å‹ç¼©ï¼‰å°±æ˜¯åˆ©ç”¨æ•°å­¦ç®—æ³•ï¼Œåœ¨å°½å¯èƒ½ä¸æŸå¤±è´¨é‡çš„å‰æä¸‹ï¼Œå°†æ•°æ®é‡å‡å°ï¼Œä½¿å…¶å˜å¾—å¯ç®¡ç†ã€‚

#### ä¸€ã€éŸ³é¢‘ç¼–ç 

éŸ³é¢‘ç¼–ç çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨äººè€³çš„å¬è§‰å¿ƒç†å­¦ç‰¹æ€§ï¼Œç§»é™¤é‚£äº›äººè€³å¬ä¸åˆ°æˆ–ä¸æ•æ„Ÿçš„å†—ä½™ä¿¡æ¯ã€‚è¿™ç§æŠ€æœ¯è¢«ç§°ä¸ºæ„ŸçŸ¥ç¼–ç ã€‚

**MP3 ï¼š** æœ€ç»å…¸çš„æœ‰æŸå‹ç¼©æ ¼å¼ã€‚

- åŸç†ï¼š åˆ©ç”¨äººè€³çš„æ©è”½æ•ˆåº”ï¼ˆMasking Effectï¼‰ã€‚å½“ä¸€ä¸ªå¼ºéŸ³ï¼ˆå¦‚é¼“å£°ï¼‰å‡ºç°æ—¶ï¼Œå®ƒä¼šæ©ç›–æ‰é™„è¿‘é¢‘ç‡æˆ–éšåå‡ºç°çš„å¼±éŸ³ï¼ŒMP3 ç¼–ç å™¨ä¼šç›´æ¥ä¸¢å¼ƒè¿™äº›è¢«æ©ç›–çš„å¼±éŸ³æ•°æ®ã€‚

**AAC ï¼š** æ¯” MP3 æ›´å…ˆè¿›çš„ç¼–ç å™¨ã€‚

- åŸç†ï¼š æ‹¥æœ‰æ¯” MP3 æ›´å¤æ‚çš„ç®—æ³•ï¼Œèƒ½æ›´é«˜æ•ˆåœ°åˆ©ç”¨æ©è”½æ•ˆåº”ï¼Œæä¾›æ›´é«˜çš„å‹ç¼©æ•ˆç‡å’Œæ›´å¥½çš„éŸ³è´¨ï¼Œå°¤å…¶æ˜¯åœ¨ä½ç ç‡ä¸‹ã€‚å®ƒæ˜¯ç°ä»£éŸ³è§†é¢‘æµåª’ä½“ï¼ˆå¦‚ HLSï¼‰çš„é¦–é€‰éŸ³é¢‘æ ¼å¼ã€‚

**Opusï¼š** ä¸“ä¸ºå®æ—¶ã€ä½å»¶è¿Ÿåº”ç”¨è®¾è®¡çš„å¼€æºç¼–ç å™¨ã€‚

- åŸç†ï¼š ç»“åˆäº†ä¸¤ç§æŠ€æœ¯ï¼šSILKï¼ˆé’ˆå¯¹è¯­éŸ³ï¼Œæä¾›é«˜å‹ç¼©ç‡ï¼‰å’Œ CELTï¼ˆé’ˆå¯¹éŸ³ä¹ï¼Œæä¾›ä½å»¶è¿Ÿï¼‰ã€‚è¿™ä½¿å¾— Opus æ—¢é€‚åˆé«˜è´¨é‡çš„éŸ³ä¹ä¼ è¾“ï¼Œä¹Ÿé€‚åˆå®æ—¶çš„è¯­éŸ³é€šè¯ï¼Œè¢«å¹¿æ³›åº”ç”¨äº WebRTCã€‚

#### äºŒã€è§†é¢‘ç¼–ç  

è§†é¢‘ç¼–ç çš„æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºå®ƒä¸ä»…å¯ä»¥åˆ©ç”¨ç©ºé—´å†—ä½™ï¼Œè¿˜èƒ½åˆ©ç”¨æ—¶é—´å†—ä½™ã€‚

#### 1. æ ¸å¿ƒæŠ€æœ¯åŸç†

**å¸§å†…é¢„æµ‹ï¼š** åœ¨åŒä¸€å¸§å†…è¿›è¡Œå‹ç¼©ã€‚å®ƒåˆ©ç”¨ç›¸é‚»åƒç´ ä¹‹é—´çš„ç›¸å…³æ€§æ¥é¢„æµ‹å½“å‰åƒç´ çš„å€¼ã€‚

- ç”¨é€”ï¼š å‹ç¼© I å¸§ï¼ˆå…³é”®å¸§ï¼‰ã€‚

**å¸§é—´é¢„æµ‹ï¼š** åœ¨ä¸åŒå¸§ä¹‹é—´è¿›è¡Œå‹ç¼©ã€‚å®ƒé€šè¿‡è¿åŠ¨è¡¥å¿æŠ€æœ¯ï¼Œé¢„æµ‹å½“å‰å¸§ä¸­çš„å®å—ï¼ˆMacroblockï¼‰ä¸å‚è€ƒå¸§ä¸­çš„å®å—ä¹‹é—´çš„è¿åŠ¨å‘é‡ï¼ˆMotion Vectorï¼‰ã€‚

- ç”¨é€”ï¼š å‹ç¼© P å¸§å’Œ B å¸§ã€‚

#### 2. å¸§çš„ç±»å‹ 

è§†é¢‘ç¼–ç å™¨å°†è§†é¢‘æµåˆ’åˆ†ä¸ºä¸åŒçš„å¸§ï¼Œæ¯ç§å¸§æœ‰ä¸åŒçš„å‹ç¼©æ–¹å¼ã€‚

**I å¸§ ï¼š** ç‹¬ç«‹ç¼–ç çš„å¸§ï¼Œåªä½¿ç”¨å¸§å†…é¢„æµ‹ã€‚

- ç‰¹æ€§ï¼š ä½“ç§¯æœ€å¤§ï¼Œä½†ä¸ä¾èµ–äºå…¶ä»–å¸§ï¼Œæ˜¯è§†é¢‘æµçš„éšæœºè®¿é—®ç‚¹ã€‚

- ç”¨é€”ï¼š ç”¨äºå¿«è¿›/å¿«é€€ã€è§†é¢‘å¼€å¤´ï¼Œä»¥åŠå®šæœŸæ’å…¥ä»¥æä¾›å®¹é”™æ€§ã€‚

**P å¸§ ï¼š** ä¾èµ–å‰é¢çš„ I æˆ– P å¸§è¿›è¡Œç¼–ç ã€‚

- ç‰¹æ€§ï¼š ä½“ç§¯æ¯” I å¸§å°ï¼Œä½¿ç”¨å¸§é—´é¢„æµ‹ã€‚

**B å¸§ ï¼š** ä¾èµ–å‰é¢å’Œåé¢çš„ I æˆ– P å¸§è¿›è¡Œç¼–ç ã€‚

- ç‰¹æ€§ï¼š ä½“ç§¯æœ€å°ï¼Œå‹ç¼©ç‡æœ€é«˜ï¼Œä½†éœ€è¦åŒå‘é¢„æµ‹ï¼Œè§£ç é¡ºåºå¤æ‚ã€‚

#### 3. æ ¸å¿ƒæ ‡å‡†

**H.264 / AVC ï¼š** è¿„ä»Šä¸ºæ­¢åº”ç”¨æœ€å¹¿æ³›çš„è§†é¢‘ç¼–ç æ ‡å‡†ã€‚å®ƒåœ¨ä¿è¯è‰¯å¥½ç”»è´¨çš„åŒæ—¶ï¼Œæä¾›äº†å¾ˆé«˜çš„å‹ç¼©ç‡ã€‚

**H.265 / HEVC ï¼š** H.264 çš„ç»§ä»»è€…ï¼Œå‹ç¼©æ•ˆç‡æ¯” H.264 é«˜çº¦ 50%ã€‚å®ƒé€šè¿‡æ›´å¤æ‚çš„é¢„æµ‹ç®—æ³•ã€æ›´å¤§çš„å®å—å’Œæ›´ç²¾ç»†çš„é‡åŒ–ï¼Œå®ç°äº†æ›´å°çš„æ–‡ä»¶å¤§å°ã€‚

**AV1ï¼š** ç”± AOMedia è”ç›Ÿå¼€å‘çš„å¼€æºã€å…ç‰ˆç¨çš„ç¼–ç å™¨ã€‚

- ç‰¹æ€§ï¼š æ—¨åœ¨æä¾›æ¯” H.265 æ›´é«˜çš„å‹ç¼©æ•ˆç‡ï¼Œæ˜¯æœªæ¥ç½‘ç»œè§†é¢‘çš„ä¸»æµæ–¹å‘ï¼Œè¢« YouTubeã€Netflix ç­‰å…¬å¸å¹¿æ³›é‡‡ç”¨ã€‚

#### ä¸‰ã€å®¹å™¨æ ¼å¼ 

å®¹å™¨æ ¼å¼çš„ä½œç”¨å°±åƒä¸€ä¸ªåŒ…è£¹ï¼Œå®ƒå°†ç¼–ç åçš„éŸ³è§†é¢‘æ•°æ®ã€å­—å¹•ã€å…ƒæ•°æ®ï¼ˆå¦‚æ—¶é•¿ã€ä½œè€…ï¼‰ç­‰å°è£…åœ¨ä¸€èµ·ã€‚å®ƒæœ¬èº«ä¸è¿›è¡Œç¼–è§£ç ã€‚

**MP4 (.mp4)ï¼š** æœ€é€šç”¨ã€æœ€æµè¡Œçš„å®¹å™¨æ ¼å¼ã€‚

- ç‰¹ç‚¹ï¼š æ”¯æŒå¤šç§éŸ³è§†é¢‘ç¼–ç ï¼Œéå¸¸é€‚åˆå­˜å‚¨ç‚¹æ’­è§†é¢‘ã€‚å®ƒå…·æœ‰è‰¯å¥½çš„ç´¢å¼•ç»“æ„ï¼Œæ”¯æŒè¾¹ä¸‹è¾¹æ’­ã€‚

**MKV (.mkv)ï¼š** åŠŸèƒ½å¼ºå¤§ã€å¼€æºçš„å®¹å™¨ã€‚

- ç‰¹ç‚¹ï¼š æ”¯æŒå‡ ä¹æ‰€æœ‰éŸ³è§†é¢‘ç¼–ç ï¼Œèƒ½å°è£…å¤šä¸ªéŸ³è½¨å’Œå­—å¹•ï¼Œæä¾›äº†æé«˜çš„çµæ´»æ€§ï¼Œä½†å…¼å®¹æ€§ç•¥é€Šäº MP4ã€‚

**FLV (.flv)**ï¼š Flash Video å®¹å™¨ï¼Œæ›¾æ˜¯ç›´æ’­å’Œç‚¹æ’­çš„ç‹è€…ã€‚

- ç‰¹ç‚¹ï¼š ç»“æ„ç®€å•ï¼Œæ˜“äºè§£æï¼Œéå¸¸é€‚åˆæµå¼ä¼ è¾“ï¼Œç°åœ¨ä»å¹¿æ³›ç”¨äº RTMP åè®®çš„æ¨æµã€‚

**TS (.ts)ï¼š** Transport Stream å®¹å™¨ã€‚

- ç‰¹ç‚¹ï¼š ä¸“ä¸ºæµåª’ä½“è®¾è®¡ï¼Œå°†æ•°æ®åˆ‡åˆ†æˆå°çš„ã€ç‹¬ç«‹çš„åŒ…ï¼Œæ¯ä¸ªåŒ…éƒ½æœ‰è‡ªå·±çš„æ—¶é—´æˆ³å’ŒåŒæ­¥ä¿¡æ¯ã€‚å³ä½¿éƒ¨åˆ†æ•°æ®åŒ…ä¸¢å¤±ï¼Œä¹Ÿèƒ½ç»§ç»­æ’­æ”¾ï¼Œå› æ­¤éå¸¸é€‚åˆHLSå’ŒIPTVç­‰å¯¹ç½‘ç»œå®¹é”™æ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚

---

### 02-æµåª’ä½“åè®®ï¼šæ•°æ®åœ¨ç½‘ç»œä¸Šçš„ä¼ è¾“æ–¹å¼

æµåª’ä½“åè®®å®šä¹‰äº†éŸ³è§†é¢‘æ•°æ®å¦‚ä½•åœ¨ç½‘ç»œä¸Šé«˜æ•ˆã€æœ‰åºåœ°ä¼ è¾“ã€‚å®ƒä»¬å„æœ‰ç‰¹ç‚¹ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ï¼Œå¦‚ä½å»¶è¿Ÿç›´æ’­ã€å¤§è§„æ¨¡ç‚¹æ’­æˆ–å®æ—¶äº’åŠ¨ã€‚

#### ä¸€ã€æ¨æµåè®®ï¼šä»æºå¤´åˆ°æœåŠ¡å™¨

æ¨æµæ˜¯æŒ‡å°†éŸ³è§†é¢‘æ•°æ®ä»é‡‡é›†ç«¯ï¼ˆå¦‚æ‘„åƒå¤´ï¼‰å‘é€åˆ°æµåª’ä½“æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚

**RTMP ï¼š** å®æ—¶æ¶ˆæ¯ä¼ è¾“åè®®ã€‚

- æ ¸å¿ƒç‰¹æ€§ï¼š åŸºäº TCPï¼Œæ˜¯ä¸€ç§ç§æœ‰åè®®ï¼Œä½†å› å…¶åœ¨ Flash æ—¶ä»£çš„æ™®åŠè€Œæˆä¸ºç›´æ’­æ¨æµçš„äº‹å®æ ‡å‡†ã€‚å®ƒèƒ½å¤Ÿç¨³å®šã€å¯é åœ°å°†éŸ³è§†é¢‘æ•°æ®æµä¼ è¾“åˆ°æœåŠ¡å™¨ã€‚

- å·¥ä½œåŸç†ï¼š RTMP å°†éŸ³è§†é¢‘æµåˆ‡åˆ†ä¸ºè¾ƒå°çš„æ•°æ®å—ï¼Œå¹¶ä»¥å¤šè·¯å¤ç”¨çš„æ–¹å¼åœ¨å•ä¸ª TCP è¿æ¥ä¸Šäº¤é”™ä¼ è¾“ï¼ŒåŒæ—¶è¿˜æ”¯æŒå‘½ä»¤ã€äº‹ä»¶ç­‰äº¤äº’ã€‚

ä¼˜ç¼ºç‚¹ï¼š

- ä¼˜ç‚¹ï¼š ç¨³å®šã€å¯é ï¼Œåœ¨ä¸šç•Œæœ‰å¹¿æ³›çš„å·¥å…·é“¾æ”¯æŒï¼ˆå¦‚ FFmpegã€OBSï¼‰ã€‚

- ç¼ºç‚¹ï¼š åŸºäº TCPï¼Œå½“ç½‘ç»œä¸ç¨³å®šæ—¶å®¹æ˜“å› ä¸¢åŒ…é‡ä¼ å¯¼è‡´å»¶è¿Ÿç´¯ç§¯ï¼›æ— æ³•ç›´æ¥åœ¨ç°ä»£æµè§ˆå™¨ä¸­æ’­æ”¾ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š ä¼ ç»Ÿçš„ç›´æ’­æ¨æµï¼Œä» OBS æ¨æµåˆ°ç›´æ’­å¹³å°ï¼ˆå¦‚æ–—é±¼ã€è™ç‰™ï¼‰ã€‚

**WebRTCï¼š** Web å®æ—¶é€šä¿¡ã€‚

- æ ¸å¿ƒç‰¹æ€§ï¼š åŸºäº UDPï¼Œæ—¨åœ¨å®ç°æµè§ˆå™¨ä¹‹é—´çš„å®æ—¶ã€ç‚¹å¯¹ç‚¹é€šä¿¡ã€‚å®ƒé›†æˆäº†è§†é¢‘ç¼–è§£ç ã€ç½‘ç»œä¼ è¾“ã€å›å£°æ¶ˆé™¤ç­‰ä¸€æ•´å¥—åŠŸèƒ½ã€‚

- å·¥ä½œåŸç†ï¼š WebRTC é€šè¿‡ P2Pï¼ˆPeer-to-Peerï¼‰è¿æ¥ç›´æ¥ä¼ è¾“æ•°æ®ï¼Œæå¤§åœ°å‡å°‘äº†ä¸­é—´æœåŠ¡å™¨çš„å»¶è¿Ÿã€‚

ä¼˜ç¼ºç‚¹ï¼š

- ä¼˜ç‚¹ï¼š è¶…ä½å»¶è¿Ÿï¼ˆé€šå¸¸åœ¨ 200 æ¯«ç§’ä»¥å†…ï¼‰ï¼Œæ— éœ€å®‰è£…æ’ä»¶å³å¯åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚

- ç¼ºç‚¹ï¼š å¯¹ä¿¡ä»¤æœåŠ¡å™¨ï¼ˆç”¨äºè¿æ¥å»ºç«‹ï¼‰ä¾èµ–æ€§å¼ºï¼Œå¯¹å¸¦å®½è¦æ±‚é«˜ï¼Œä¸€å¯¹å¤šç›´æ’­åœºæ™¯éœ€è¦ SFU/MCU æœåŠ¡å™¨è¾…åŠ©ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š åœ¨çº¿ä¼šè®®ã€è§†é¢‘é€šè¯ã€è¿œç¨‹æ•™è‚²ç­‰å¯¹å»¶è¿Ÿè¦æ±‚æé«˜çš„åœºæ™¯ã€‚

---

#### äºŒã€æ‹‰æµä¸ç‚¹æ’­åè®®ï¼šä»æœåŠ¡å™¨åˆ°ç”¨æˆ·

æ‹‰æµæ˜¯æŒ‡ç”¨æˆ·ä»æœåŠ¡å™¨è·å–éŸ³è§†é¢‘æµè¿›è¡Œæ’­æ”¾çš„è¿‡ç¨‹ã€‚ç‚¹æ’­æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ‹‰æµï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±æ§åˆ¶æ’­æ”¾è¿›åº¦ã€‚

**HTTP-FLV (HTTP-Flash Video)ï¼š**

æ ¸å¿ƒç‰¹æ€§ï¼š æ˜¯ä¸€ç§åŸºäº HTTP åè®®çš„ç›´æ’­æµä¼ è¾“åè®®ã€‚å®ƒå°† RTMP æ¨æµè¿‡æ¥çš„ FLV æ•°æ®ç›´æ¥å°è£…æˆ HTTP å“åº”ï¼Œä»¥æµå¼æ–¹å¼ä¼ è¾“ç»™å®¢æˆ·ç«¯ã€‚

ä¼˜ç¼ºç‚¹ï¼š

- ä¼˜ç‚¹ï¼š åˆ©ç”¨äº† HTTP åè®®çš„å¹¿æ³›å…¼å®¹æ€§ï¼Œç»•è¿‡äº† RTMP æ— æ³•ç›´æ¥åœ¨æµè§ˆå™¨æ’­æ”¾çš„é—®é¢˜ï¼Œä¸”å»¶è¿Ÿç›¸å¯¹è¾ƒä½ã€‚

- ç¼ºç‚¹ï¼š ä¾èµ–äº FLV æ ¼å¼ï¼Œå…¼å®¹æ€§ä¸å¦‚ HLS å’Œ DASHã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š å¸¸è§çš„ç½‘é¡µç›´æ’­åœºæ™¯ï¼Œå¦‚ç›´æ’­å¹³å°çš„ PC ç«¯ç½‘é¡µç›´æ’­ã€‚

**HLS (HTTP Live Streaming)ï¼š**

æ ¸å¿ƒç‰¹æ€§ï¼š ç”±è‹¹æœå…¬å¸æ¨å‡ºï¼Œæ˜¯ç›®å‰æœ€ä¸»æµçš„ç‚¹æ’­å’Œç›´æ’­åè®®ã€‚

å·¥ä½œåŸç†ï¼š HLS å°†è§†é¢‘æµåˆ‡åˆ†ä¸ºä¸€ç³»åˆ—å°çš„ .ts æ–‡ä»¶ï¼ˆMPEG-TSï¼‰ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ª .m3u8 æ’­æ”¾åˆ—è¡¨ã€‚å®¢æˆ·ç«¯é¦–å…ˆä¸‹è½½ .m3u8 æ–‡ä»¶ï¼Œç„¶åæŒ‰é¡ºåºè¯·æ±‚å’Œæ’­æ”¾ .ts ç‰‡æ®µã€‚

ä¼˜ç¼ºç‚¹ï¼š

- ä¼˜ç‚¹ï¼š åŸºäº HTTPï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç°æœ‰çš„ CDN ç½‘ç»œè¿›è¡Œåˆ†å‘ï¼Œç©¿é€åŠ›å¼ºï¼›æ”¯æŒè‡ªé€‚åº”ç ç‡ï¼ˆAdaptive Bitrate Streamingï¼‰ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·ç½‘ç»œçŠ¶å†µè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸åŒç ç‡çš„è§†é¢‘æµï¼Œä¿è¯æ’­æ”¾æµç•…ã€‚

- ç¼ºç‚¹ï¼š å› å…¶â€œåˆ‡ç‰‡â€ç‰¹æ€§ï¼Œé€šå¸¸æœ‰è¾ƒé«˜çš„å»¶è¿Ÿï¼ˆ10-30 ç§’ï¼‰ï¼Œä¸é€‚åˆå¯¹å®æ—¶æ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š å‡ ä¹æ‰€æœ‰å¤§å‹è§†é¢‘ç½‘ç«™çš„ç‚¹æ’­æœåŠ¡ï¼Œä»¥åŠä¼ ç»Ÿçš„é«˜å»¶è¿Ÿç›´æ’­ã€‚

**DASH (Dynamic Adaptive Streaming over HTTP)ï¼š**

æ ¸å¿ƒç‰¹æ€§ï¼š ç”± MPEG å¼€å‘ï¼Œä¸ HLS ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ã€‚

å·¥ä½œåŸç†ï¼š å®ƒå°†è§†é¢‘æµåˆ‡åˆ†æˆå°æ®µï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ª XML æ ¼å¼çš„æ¸…å•æ–‡ä»¶ï¼ˆMPDï¼‰ æ¥æè¿°åª’ä½“èµ„æºã€‚

ä¼˜ç¼ºç‚¹ï¼š

- ä¼˜ç‚¹ï¼š å¼€æ”¾æ ‡å‡†ï¼Œå…¼å®¹æ€§å¥½ï¼›æ”¯æŒè‡ªé€‚åº”ç ç‡ã€‚

- ç¼ºç‚¹ï¼š ç›¸æ¯” HLSï¼Œæ™®åŠåº¦ç¨é€Šï¼Œä½†ä»åœ¨å¿«é€Ÿå¢é•¿ã€‚

åœ¨éŸ³è§†é¢‘ä¸­çš„åº”ç”¨ï¼š é€æ¸æˆä¸ºä¸»æµï¼Œè¢« Netflixã€YouTube ç­‰å…¬å¸å¹¿æ³›ä½¿ç”¨ã€‚

---

### 03-FFmpeg å¤§å…¨ (FFmpeg Toolkit)

#### å‘½ä»¤è¡Œç”¨æ³•ï¼šå¿«é€Ÿè§£å†³æ—¥å¸¸ä»»åŠ¡

FFmpeg å‘½ä»¤è¡Œæ˜¯å¤„ç†éŸ³è§†é¢‘æ–‡ä»¶çš„æœ€å¿«æ·æ–¹å¼ã€‚æŒæ¡ä»¥ä¸‹å¸¸ç”¨å‘½ä»¤ï¼Œèƒ½è®©ä½ é«˜æ•ˆåœ°å®Œæˆç»å¤§éƒ¨åˆ†éŸ³è§†é¢‘å¤„ç†ä»»åŠ¡ã€‚

**æ ¼å¼è½¬æ¢**ï¼šå°†è§†é¢‘ä»ä¸€ç§æ ¼å¼è½¬æ¢ä¸ºå¦ä¸€ç§ï¼ŒåŒæ—¶å¯ä»¥è°ƒæ•´ç¼–ç å‚æ•°ã€‚

```bash
# å°† mp4 æ–‡ä»¶è½¬æ¢ä¸º flv æ ¼å¼ï¼Œå¹¶ä½¿ç”¨ libx264 ç¼–ç 
ffmpeg -i input.mp4 -c:v libx264 -c:a aac output.flv
```
- `-i`ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ã€‚

- `-c:v` å’Œ `-c:a`ï¼šåˆ†åˆ«æŒ‡å®šè§†é¢‘å’ŒéŸ³é¢‘çš„ç¼–ç å™¨ã€‚

**è£å‰ª**ï¼šæˆªå–è§†é¢‘çš„ç‰¹å®šæ—¶é—´æ®µã€‚
```bash
# ä»ç¬¬ 10 ç§’å¼€å§‹ï¼Œæˆªå– 30 ç§’çš„è§†é¢‘
ffmpeg -ss 00:00:10 -t 00:00:30 -i input.mp4 -c copy output.mp4
```
- `-ss`ï¼šæŒ‡å®šå¼€å§‹æ—¶é—´ã€‚

- `-t`ï¼šæŒ‡å®šæŒç»­æ—¶é—´ã€‚

- `-c copy`ï¼šè¡¨ç¤ºä¸è¿›è¡Œé‡æ–°ç¼–ç ï¼Œç›´æ¥å¤åˆ¶æµï¼Œé€Ÿåº¦æœ€å¿«ã€‚

**æ·»åŠ æ°´å°**ï¼šç»™è§†é¢‘æ·»åŠ å›¾ç‰‡æˆ–æ–‡å­—æ°´å°ã€‚
```bash
# åœ¨è§†é¢‘å³ä¸‹è§’æ·»åŠ ä¸€ä¸ª png æ°´å°ï¼Œå¹¶è®¾ç½®é€æ˜åº¦
ffmpeg -i input.mp4 -i watermark.png -filter_complex "overlay=W-w-10:H-h-10" output.mp4
```
- `-filter_complex`ï¼šä½¿ç”¨å¤æ‚çš„æ»¤é•œé“¾ã€‚

- `overlay`ï¼šå åŠ æ»¤é•œï¼ŒW-w-10:H-h-10 å®šä¹‰äº†æ°´å°çš„ä½ç½®ã€‚

**æˆªå›¾**ï¼šä»è§†é¢‘ä¸­æˆªå–ä¸€å¸§æˆ–å¤šå¸§å›¾åƒã€‚
```bash
# ä»è§†é¢‘çš„ç¬¬ 5 ç§’å¤„æˆªå–ä¸€å¼ å›¾ç‰‡
ffmpeg -ss 00:00:05 -i input.mp4 -vframes 1 output.png
```
- `-vframes 1`ï¼šåªè¾“å‡ºä¸€å¸§è§†é¢‘ã€‚

**æ¨æµ/æ‹‰æµ**ï¼šå°†æœ¬åœ°æ–‡ä»¶æ¨é€åˆ°æµåª’ä½“æœåŠ¡å™¨ï¼Œæˆ–ä»æœåŠ¡å™¨æ‹‰å–è§†é¢‘æµä¿å­˜åˆ°æœ¬åœ°ã€‚
```bash
# å°†æœ¬åœ°è§†é¢‘æ¨æµåˆ° RTMP æœåŠ¡å™¨
ffmpeg -re -i input.mp4 -c copy -f flv rtmp://localhost/live/stream

# ä» RTMP æœåŠ¡å™¨æ‹‰æµå¹¶ä¿å­˜åˆ°æœ¬åœ°
ffmpeg -i rtmp://localhost/live/stream -c copy output.mp4
```
- `-re`ï¼šä»¥åŸå§‹å¸§ç‡è¯»å–æ–‡ä»¶ï¼Œé€‚ç”¨äºæ¨æµã€‚

- `-f flv`ï¼šæŒ‡å®šè¾“å‡ºæ ¼å¼ä¸º flvã€‚

#### libav åº“ç³»åˆ—ï¼šæ·±å…¥éŸ³è§†é¢‘åº•å±‚

FFmpeg çš„å¼ºå¤§åŠŸèƒ½éƒ½æºè‡ªå…¶èƒŒåçš„ä¸€ç³»åˆ— C è¯­è¨€åº“ï¼Œå®ƒä»¬æ˜¯è¿›è¡ŒäºŒæ¬¡å¼€å‘çš„åŸºç¡€ã€‚é€šè¿‡è°ƒç”¨è¿™äº›åº“ï¼Œä½ å¯ä»¥ç¼–å†™è‡ªå·±çš„æ’­æ”¾å™¨ã€è½¬ç å™¨ã€æ¨æµå·¥å…·ç­‰ã€‚

#### 1. libavformatï¼šå®¹å™¨æ ¼å¼å¤„ç†

ä½œç”¨ï¼šè´Ÿè´£éŸ³è§†é¢‘çš„è§£å¤ç”¨ï¼ˆdemuxingï¼‰ å’Œå¤ç”¨ï¼ˆmuxingï¼‰ã€‚

æ ¸å¿ƒåŠŸèƒ½ï¼šè¯»å–ä¸åŒæ ¼å¼çš„æ–‡ä»¶ï¼ˆå¦‚ MP4, FLVï¼‰ï¼Œè§£æå‡ºå…¶ä¸­çš„éŸ³è§†é¢‘æµï¼Œå¹¶æå–å‡ºç¼–ç åçš„æ•°æ®åŒ…ï¼ˆAVPacketï¼‰ã€‚åœ¨å†™æ–‡ä»¶æ—¶ï¼Œåˆ™å°†ç¼–ç åçš„æ•°æ®åŒ…å°è£…æˆç‰¹å®šæ ¼å¼ã€‚

ä»£ç ç¤ºä¾‹ï¼š

- `avformat_open_input()`ï¼šæ‰“å¼€è¾“å…¥æ–‡ä»¶æˆ–æµã€‚

- `avformat_find_stream_info()`ï¼šè¯»å–åª’ä½“æµä¿¡æ¯ï¼Œå¦‚æ—¶é•¿ã€ç ç‡ã€‚

- `av_read_frame()`ï¼šè¯»å–ä¸€ä¸ªæ•°æ®åŒ…ã€‚

#### 2. libavcodecï¼šç¼–è§£ç å™¨
ä½œç”¨ï¼šè´Ÿè´£è§£ç å’Œç¼–ç ã€‚

æ ¸å¿ƒåŠŸèƒ½ï¼šå°†ç¼–ç åçš„æ•°æ®åŒ…ï¼ˆAVPacketï¼‰è§£ç æˆåŸå§‹å¸§ï¼ˆAVFrameï¼Œå¦‚ PCM æˆ– YUVï¼‰ï¼Œæˆ–å°†åŸå§‹å¸§ç¼–ç æˆå‹ç¼©æ•°æ®åŒ…ã€‚

ä»£ç ç¤ºä¾‹ï¼š

- `avcodec_find_decoder()`ï¼šæ ¹æ®ç¼–ç  ID å¯»æ‰¾åˆé€‚çš„è§£ç å™¨ã€‚

- `avcodec_alloc_context3()`ï¼šä¸ºè§£ç å™¨åˆ†é…ä¸Šä¸‹æ–‡ã€‚

- `avcodec_send_packet()`ï¼šå°†æ•°æ®åŒ…å‘é€ç»™è§£ç å™¨ã€‚

- `avcodec_receive_frame()`ï¼šä»è§£ç å™¨æ¥æ”¶è§£ç åçš„å¸§ã€‚

#### 3. libavfilterï¼šæ»¤é•œå¤„ç†

ä½œç”¨ï¼šæä¾›ä¸°å¯Œçš„éŸ³è§†é¢‘æ»¤é•œåŠŸèƒ½ã€‚

æ ¸å¿ƒåŠŸèƒ½ï¼šå¯¹åŸå§‹å¸§è¿›è¡Œå„ç§å¤„ç†ï¼Œå¦‚ç¼©æ”¾ã€è£å‰ªã€æ·»åŠ æ°´å°ã€è‰²å½©æ ¡æ­£ã€éŸ³é‡è°ƒæ•´ç­‰ã€‚

ä»£ç ç¤ºä¾‹ï¼š

- `avfilter_graph_create_filter()`ï¼šåˆ›å»ºä¸€ä¸ªæ»¤é•œå®ä¾‹ã€‚

- `avfilter_link()`ï¼šå°†æ»¤é•œè¿æ¥æˆä¸€ä¸ªå¤„ç†é“¾ã€‚

- `av_buffersrc_add_frame()`ï¼šå°†åŸå§‹å¸§é€å…¥æ»¤é•œé“¾ã€‚

- `av_buffersink_get_frame()`ï¼šä»æ»¤é•œé“¾è·å–å¤„ç†åçš„å¸§ã€‚

#### 4. libswscale å’Œ libswresampleï¼šè‰²å½©å’Œé‡‡æ ·è½¬æ¢

ä½œç”¨ï¼šè¿™äº›åº“ç”¨äºå¤„ç†åŸå§‹å¸§çš„æ ¼å¼è½¬æ¢ã€‚

æ ¸å¿ƒåŠŸèƒ½ï¼š

- `libswscale`ï¼šç”¨äºå›¾åƒè½¬æ¢ï¼Œå¦‚å°† YUV è½¬æ¢ä¸º RGBï¼Œä»¥ä¾›æ¸²æŸ“ã€‚

- `libswresample`ï¼šç”¨äºéŸ³é¢‘é‡é‡‡æ ·ï¼Œå¦‚è°ƒæ•´é‡‡æ ·ç‡ã€ä½æ·±å’Œå£°é“æ•°ã€‚

---

### 04-æ’­æ”¾å™¨å¼€å‘ï¼šä»é›¶å¼€å§‹çš„å®æˆ˜ä¹‹æ—…

ä¸€ä¸ªæ’­æ”¾å™¨çœ‹ä¼¼ç®€å•ï¼Œä½†å…¶å†…éƒ¨æ¶‰åŠå¤šçº¿ç¨‹å¹¶å‘ã€éŸ³è§†é¢‘åŒæ­¥ã€æ•°æ®æµè½¬ç­‰å¤æ‚é€»è¾‘ï¼Œæ˜¯æ£€éªŒä½ éŸ³è§†é¢‘åŸºç¡€çŸ¥è¯†æŒæ¡ç¨‹åº¦çš„æœ€ä½³é¡¹ç›®ã€‚

#### ä¸€ã€åŸºç¡€æ’­æ”¾å™¨ï¼šç†è§£æ’­æ”¾å™¨çš„æ ¸å¿ƒæµç¨‹

è¿™éƒ¨åˆ†çš„ç›®æ ‡æ˜¯è®©å­¦ä¹ è€…é€šè¿‡ä»£ç ï¼Œç†è§£æ’­æ”¾å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æœ€å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨ FFmpeg + SDL/OpenGLï¼Œå› ä¸º FFmpeg è´Ÿè´£æ ¸å¿ƒçš„è§£å°è£…å’Œè§£ç ï¼Œè€Œ SDL æˆ– OpenGL åˆ™è´Ÿè´£åº•å±‚çš„æ¸²æŸ“å’ŒéŸ³é¢‘æ’­æ”¾ï¼Œè¿™ç§åˆ†ç¦»è®©é€»è¾‘æ›´æ¸…æ™°ã€‚

##### æ’­æ”¾å™¨æ¶æ„å›¾

åœ¨å¼€å§‹ç¼–å†™ä»£ç å‰ï¼Œå¯ä»¥å…ˆç”»å‡ºæ’­æ”¾å™¨çš„å·¥ä½œæµç¨‹å›¾ã€‚ä¸€ä¸ªå…¸å‹çš„æç®€æ’­æ”¾å™¨åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼š

1. è§£å°è£…/è¯»çº¿ç¨‹:

- ä»»åŠ¡: è´Ÿè´£ä»è¾“å…¥æºï¼ˆå¦‚æœ¬åœ°æ–‡ä»¶æˆ–ç½‘ç»œæµï¼‰è¯»å–æ•°æ®ã€‚

- æ ¸å¿ƒ: è°ƒç”¨ libavformat åº“ï¼Œè¯»å–ä¸€ä¸ªåˆä¸€ä¸ªçš„æ•°æ®åŒ…ï¼ˆAVPacketï¼‰ã€‚

- è¾“å‡º: å°†è¯»å–åˆ°çš„ AVPacket åˆ†åˆ«æ”¾å…¥éŸ³é¢‘é˜Ÿåˆ—å’Œè§†é¢‘é˜Ÿåˆ—ã€‚

2. è§£ç çº¿ç¨‹:

- ä»»åŠ¡: è´Ÿè´£å°†ç¼–ç æ•°æ®è§£ç ä¸ºåŸå§‹æ•°æ®ã€‚

- æ ¸å¿ƒ: è°ƒç”¨ libavcodec åº“ï¼Œä»å„è‡ªçš„é˜Ÿåˆ—ä¸­å–å‡º AVPacketï¼Œè§£ç ä¸ºåŸå§‹å¸§ï¼ˆAVFrameï¼‰ã€‚

- è¾“å‡º: å°†è§£ç åçš„ AVFrame åˆ†åˆ«æ”¾å…¥éŸ³é¢‘å¸§é˜Ÿåˆ—å’Œè§†é¢‘å¸§é˜Ÿåˆ—ã€‚

3. éŸ³é¢‘æ’­æ”¾/æ¸²æŸ“çº¿ç¨‹:

- ä»»åŠ¡: è´Ÿè´£éŸ³é¢‘çš„æ’­æ”¾ä¸åŒæ­¥ã€‚

- æ ¸å¿ƒ: ä»éŸ³é¢‘å¸§é˜Ÿåˆ—ä¸­å–å‡º AVFrameï¼Œé€å…¥ SDL è¿›è¡Œæ’­æ”¾ã€‚åŒæ—¶ï¼Œè¿™ä¸ªçº¿ç¨‹ä¼šä½œä¸ºä¸»æ—¶é’Ÿï¼Œæ ¹æ®éŸ³é¢‘çš„æ’­æ”¾æ—¶é—´æ¥è°ƒæ•´è§†é¢‘çš„æ’­æ”¾é€Ÿåº¦ã€‚

4. è§†é¢‘æ¸²æŸ“çº¿ç¨‹:

- ä»»åŠ¡: è´Ÿè´£è§†é¢‘ç”»é¢çš„æ˜¾ç¤ºã€‚

- æ ¸å¿ƒ: ä»è§†é¢‘å¸§é˜Ÿåˆ—ä¸­å–å‡º AVFrameï¼Œæ ¹æ®å…¶æ—¶é—´æˆ³ï¼ˆPTSï¼‰ ä¸éŸ³é¢‘ä¸»æ—¶é’Ÿè¿›è¡Œæ¯”å¯¹ã€‚

- åŒæ­¥: å¦‚æœè§†é¢‘å¸§æ—¶é—´æ—©äºéŸ³é¢‘æ—¶é—´ï¼Œåˆ™ç­‰å¾…ï¼›å¦‚æœæ™šäºéŸ³é¢‘æ—¶é—´ï¼Œåˆ™ä¸¢å¼ƒä¸€äº›å¸§ä»¥è¿½èµ¶è¿›åº¦ã€‚ç„¶åï¼Œä½¿ç”¨ SDL/OpenGL å°† YUV æ ¼å¼çš„è§†é¢‘å¸§æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚

#####  ä»£ç ç¤ºä¾‹ä¸å®ç°è¦ç‚¹

**FFmpeg API**ï¼šè¯¦ç»†å±•ç¤ºå¦‚ä½•ä½¿ç”¨ `avformat_open_input()`, `avformat_find_stream_info()`, `av_read_frame()`, `avcodec_find_decoder()`, `avcodec_send_packet()` å’Œ `avcodec_receive_frame()` ç­‰æ ¸å¿ƒ APIã€‚

**çº¿ç¨‹å®‰å…¨é˜Ÿåˆ—**ï¼šæä¾›ä¸€ä¸ªç®€å•çš„çº¿ç¨‹å®‰å…¨é˜Ÿåˆ—å®ç°ï¼Œè¿™æ˜¯è¿æ¥å„ä¸ªçº¿ç¨‹çš„å…³é”®ã€‚

**éŸ³è§†é¢‘åŒæ­¥**ï¼šè¯¦ç»†è§£é‡Šå¦‚ä½•ä½¿ç”¨éŸ³é¢‘æ—¶é—´æˆ³ä½œä¸ºä¸»æ—¶é’Ÿï¼Œå¹¶ç¼–å†™ä»£ç æ¥åŒæ­¥è§†é¢‘å¸§ã€‚

---

#### äºŒã€è·¨å¹³å°æ’­æ”¾å™¨ï¼šå·¥ä¸šçº§åº”ç”¨

åœ¨å·¥ä¸šçº§åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¸ä¼šä»é›¶å¼€å§‹ç¼–å†™æ’­æ”¾å™¨ï¼Œè€Œæ˜¯åŸºäºæˆç†Ÿçš„å¼€æºé¡¹ç›®è¿›è¡Œå®šåˆ¶å’Œä¼˜åŒ–ã€‚

#### 1. ijkplayer (ç§»åŠ¨ç«¯)

**ç‰¹ç‚¹**: ç”± Bilibili å¼€æºçš„ iOS å’Œ Android æ’­æ”¾å™¨ï¼ŒåŸºäº FFmpegï¼Œé«˜åº¦å°è£…ï¼Œæ˜“äºä½¿ç”¨ã€‚

**å®šåˆ¶ä¸ä¼˜åŒ–æ–¹å‘**:

- è‡ªå®šä¹‰ FFmpeg: å¯ä»¥è£å‰ª FFmpeg åº“ï¼Œç§»é™¤ä¸éœ€è¦çš„ç¼–ç å™¨å’Œåè®®ï¼Œå‡å°åŒ…ä½“ç§¯ã€‚

- ä¼˜åŒ–ç¼–è¯‘å‚æ•°: é’ˆå¯¹ä¸åŒçš„ç§»åŠ¨å¹³å°ï¼ˆARMv7, ARM64ï¼‰è¿›è¡Œä¼˜åŒ–ï¼Œåˆ©ç”¨ NEON æŒ‡ä»¤é›†åŠ é€Ÿç¼–è§£ç ã€‚

- ç½‘ç»œç¼“å­˜: è°ƒæ•´ç¼“å­˜ç­–ç•¥ï¼Œä¼˜åŒ–é¢„åŠ è½½é€»è¾‘ï¼Œå‡å°‘å¡é¡¿ã€‚

- éŸ³è§†é¢‘æ¸²æŸ“: é›†æˆç¡¬ä»¶åŠ é€Ÿè§£ç ï¼ˆå¦‚ MediaCodec/VideoToolboxï¼‰ï¼Œä½¿ç”¨ OpenGL ES æˆ– Metal è¿›è¡Œé«˜æ•ˆæ¸²æŸ“ã€‚

#### 2. ExoPlayer (Android)

**ç‰¹ç‚¹**: ç”± Google å¼€å‘ï¼Œæ˜¯ Android å¹³å°äº‹å®ä¸Šçš„æ ‡å‡†æ’­æ”¾å™¨ï¼Œæ¨¡å—åŒ–è®¾è®¡ï¼Œé«˜åº¦å¯å®šåˆ¶ã€‚

**å®šåˆ¶ä¸ä¼˜åŒ–æ–¹å‘**:

- æ•°æ®æº: å¯ä»¥è‡ªå®šä¹‰ `DataSource`ï¼Œå®ç°è‡ªå·±çš„ç½‘ç»œåè®®æˆ–ç¼“å­˜é€»è¾‘ã€‚

- è§£ç å™¨: ä½¿ç”¨ `MediaCodec` æˆ– FFmpeg è§£ç å™¨ï¼Œè¿›è¡Œè½¯ç¡¬è§£åˆ‡æ¢ã€‚

- æ¸²æŸ“å™¨: è‡ªå®šä¹‰ `Renderer`ï¼Œå®ç°ç‰¹æ®Šæ•ˆæœæˆ–é›†æˆè‡ªå·±çš„æ¸²æŸ“ç®¡çº¿ã€‚

- è‡ªé€‚åº”ç ç‡: æ·±åº¦å®šåˆ¶ DASH/HLS çš„è‡ªé€‚åº”é€»è¾‘ï¼Œæ ¹æ®ç½‘ç»œçŠ¶å†µå’Œè®¾å¤‡æ€§èƒ½è¿›è¡Œæ›´æ™ºèƒ½çš„ç ç‡åˆ‡æ¢ã€‚

#### 3. AVPlayer (iOS/macOS)

**ç‰¹ç‚¹**: Apple å®˜æ–¹æ’­æ”¾å™¨ï¼Œæ˜“äºä½¿ç”¨ï¼Œæ€§èƒ½å‡ºè‰²ï¼Œä½†å¯å®šåˆ¶æ€§ç›¸å¯¹è¾ƒå¼±ã€‚

**å®šåˆ¶ä¸ä¼˜åŒ–æ–¹å‘**:

- åå°æ’­æ”¾: é…ç½® `AVAudioSession` ä»¥æ”¯æŒåå°æ’­æ”¾ã€‚

- ç¦»çº¿æ’­æ”¾: åˆ©ç”¨ `AVAssetDownloadTask` å®ç°è§†é¢‘çš„ä¸‹è½½å’Œç¦»çº¿ç¼“å­˜ã€‚

- è‡ªå®šä¹‰æ’­æ”¾: å¯ä»¥é€šè¿‡ `AVPlayerItemAccessLog` å’Œ `AVPlayerItemErrorLog` æ¥ç›‘æ§æ’­æ”¾çŠ¶æ€å’Œè°ƒè¯•ç½‘ç»œé—®é¢˜ã€‚

---

### 05-é‡‡é›†ä¸æ¨æµï¼šæ•°æ®ä»æºå¤´åˆ°ç½‘ç»œçš„æ—…ç¨‹

é‡‡é›†ä¸æ¨æµæ¨¡å—è´Ÿè´£ä»è®¾å¤‡ï¼ˆå¦‚æ‘„åƒå¤´ã€éº¦å…‹é£ã€æ¡Œé¢ï¼‰è·å–éŸ³è§†é¢‘åŸå§‹æ•°æ®ï¼Œè¿›è¡Œå¤„ç†ï¼ˆå¦‚ç¾é¢œã€æ··éŸ³ï¼‰ï¼Œç„¶åå°†å…¶ç¼–ç å¹¶å‘é€åˆ°æœåŠ¡å™¨ã€‚

#### ä¸€ã€æ¡Œé¢/å±å¹•é‡‡é›†ï¼šè·å– PC ç«¯ç”»é¢

æ¡Œé¢é‡‡é›†æ˜¯å±å¹•å…±äº«ã€æ¸¸æˆç›´æ’­å’Œè¿œç¨‹ååŠ©çš„åŸºç¡€ã€‚å®ƒé€šå¸¸é€šè¿‡è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„åº•å±‚ API æ¥å®ç°ã€‚

**Windows**ï¼š

- GDI (Graphics Device Interface)ï¼šä¼ ç»Ÿæ–¹æ³•ï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œä¸é€‚åˆæ¸¸æˆç­‰é«˜å¸§ç‡åœºæ™¯ã€‚

- DXGI (DirectX Graphics Infrastructure)ï¼šæ¨èæ–¹æ³•ï¼Œç”¨äºæ•è· DirectX åº”ç”¨ç¨‹åºçš„å±å¹•å†…å®¹ï¼Œæ•ˆç‡æ›´é«˜ï¼Œèƒ½å¤Ÿç›´æ¥æ•è· GPU æ¸²æŸ“çš„ç”»é¢ã€‚

**macOS**ï¼š

- Core Graphicsï¼šç”¨äºæ•è·å±å¹•å†…å®¹ã€‚

- AVFoundationï¼šæ›´ç°ä»£çš„æ¡†æ¶ï¼Œå¯ä»¥çµæ´»åœ°æ•è·å±å¹•å†…å®¹ã€‚

**Linux**ï¼š

- X11ï¼šä¼ ç»Ÿçš„ X server åè®®ï¼Œæ•ˆç‡ä¸€èˆ¬ã€‚

- PipeWireï¼šæ›´ç°ä»£çš„åè®®ï¼Œæä¾›äº†æ›´é«˜æ•ˆã€æ›´å®‰å…¨çš„å±å¹•å…±äº«æ–¹å¼ï¼Œæ˜¯ Wayland ç¯å¢ƒä¸‹çš„é¦–é€‰ã€‚

---

#### äºŒã€ç§»åŠ¨ç«¯æ¨æµï¼šæ‘„åƒå¤´ä¸éº¦å…‹é£çš„é‡‡é›†

ç§»åŠ¨ç«¯æ¨æµæ˜¯ç›´æ’­åº”ç”¨çš„æ ¸å¿ƒã€‚å®ƒæ¶‰åŠæ‘„åƒå¤´ä¸éº¦å…‹é£çš„è°ƒç”¨ã€æ•°æ®å¤„ç†ã€ç¼–ç å’Œç½‘ç»œä¼ è¾“ã€‚

#### 1. æ ¸å¿ƒæµç¨‹

ä¸€ä¸ªå…¸å‹çš„ç§»åŠ¨ç«¯æ¨æµ SDK åŒ…å«ä»¥ä¸‹å‡ ä¸ªä¸»è¦æ­¥éª¤ï¼š

1. é‡‡é›† ï¼š

- è§†é¢‘ï¼šä½¿ç”¨ Android Camera/Camera2 API æˆ– iOS AVFoundation è°ƒç”¨æ‘„åƒå¤´ï¼Œè·å–åŸå§‹çš„ YUV æ ¼å¼æ•°æ®ã€‚

- éŸ³é¢‘ï¼šä½¿ç”¨ Android AudioRecord æˆ– iOS AVAudioSession è°ƒç”¨éº¦å…‹é£ï¼Œè·å–åŸå§‹çš„ PCM æ ¼å¼æ•°æ®ã€‚

2. å‰å¤„ç† ï¼š

- è§†é¢‘ï¼šå¯¹é‡‡é›†åˆ°çš„è§†é¢‘å¸§è¿›è¡Œç¾é¢œã€æ»¤é•œã€è´´çº¸ç­‰æ•ˆæœå¤„ç†ã€‚è¿™é€šå¸¸ä½¿ç”¨ OpenGL ES æˆ– Metal ç­‰ GPU æ¸²æŸ“æŠ€æœ¯æ¥å®ç°ï¼Œä»¥ä¿è¯æ€§èƒ½ã€‚

- éŸ³é¢‘ï¼šè¿›è¡Œé™å™ªã€å›å£°æ¶ˆé™¤ (AEC)ã€è‡ªåŠ¨å¢ç›Šæ§åˆ¶ (AGC) ç­‰å¤„ç†ï¼Œä»¥æé«˜é€šè¯è´¨é‡ã€‚

3. ç¼–ç  ï¼š

- å°†å¤„ç†åçš„ YUV å’Œ PCM åŸå§‹æ•°æ®ï¼Œé€šè¿‡ç¡¬ç¼–ç å™¨ï¼ˆAndroid MediaCodec æˆ– iOS VideoToolbox/AudioToolboxï¼‰æˆ–è½¯ç¼–ç å™¨ï¼ˆå¦‚ x264ï¼‰è¿›è¡Œå‹ç¼©ï¼Œç”Ÿæˆ H.264/H.265 å’Œ AAC ç¼–ç æ•°æ®ã€‚

4. å°è£…ä¸æ¨æµ ï¼š

- å°†ç¼–ç åçš„ H.264 å’Œ AAC æ•°æ®ï¼ŒæŒ‰ç…§ RTMP åè®®çš„è¦æ±‚ï¼Œå°è£…æˆ RTMP åŒ…ã€‚

- é€šè¿‡ç½‘ç»œå°†è¿™äº› RTMP åŒ…å‘é€åˆ°æµåª’ä½“æœåŠ¡å™¨ã€‚

#### 2. ä»£ç ç¤ºä¾‹

**Android å¹³å°**ï¼š

- æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `Camera2` è·å–è§†é¢‘å¸§ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º `OpenGL ES` çº¹ç†è¿›è¡Œæ¸²æŸ“ã€‚

- å±•ç¤ºå¦‚ä½•ä½¿ç”¨ `AudioRecord` è·å–éŸ³é¢‘æ•°æ®ã€‚

- è®²è§£å¦‚ä½•ä½¿ç”¨ `MediaCodec` é…ç½®ç¡¬ç¼–ç å™¨ï¼Œå°† YUV å¸§ç¼–ç ä¸º H.264ã€‚

- æ•´åˆä¸€ä¸ª RTMP åº“ï¼ˆå¦‚ `librtmp` æˆ–å…¶ä»–å¼€æº SDKï¼‰ï¼Œå°†ç¼–ç åçš„æ•°æ®åŒ…æ¨é€åˆ°æœåŠ¡å™¨ã€‚

**iOS å¹³å°**ï¼š

- æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `AVCaptureSession` å’Œ `AVCaptureVideoDataOutput` è·å–è§†é¢‘å¸§ï¼Œå¹¶ç”¨ Metal æˆ– OpenGL ES è¿›è¡Œå‰å¤„ç†ã€‚

- è®²è§£å¦‚ä½•ä½¿ç”¨ `VideoToolbox` å’Œ `AudioToolbox` è¿›è¡Œç¡¬ç¼–ç ã€‚

- æ•´åˆä¸€ä¸ªæ¨æµåº“ï¼Œå°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ã€‚

---

#### ä¸‰ã€å…³é”®æŒ‘æˆ˜ä¸ä¼˜åŒ–ç‚¹

**æ€§èƒ½**ï¼šé‡‡é›†ã€å‰å¤„ç†å’Œç¼–ç éƒ½æ˜¯ CPU å’Œ GPU å¯†é›†å‹ä»»åŠ¡ï¼Œéœ€è¦é«˜åº¦ä¼˜åŒ–ä»¥é¿å…å¡é¡¿å’Œå‘çƒ­ã€‚

**å…¼å®¹æ€§**ï¼šåœ¨ Android å¹³å°ï¼Œä¸åŒè®¾å¤‡çš„ç¡¬ä»¶ç¼–ç å™¨å­˜åœ¨å·®å¼‚ï¼Œéœ€è¦è€ƒè™‘å…¼å®¹æ€§é—®é¢˜ã€‚

**ç½‘ç»œæŠ–åŠ¨**ï¼šæ¨æµè¿‡ç¨‹ä¸­ï¼Œç½‘ç»œçŠ¶å†µå¯èƒ½ä¸ç¨³å®šã€‚ä¼˜ç§€çš„æ¨æµ SDK éœ€è¦å®ç°ç ç‡è‡ªé€‚åº”ï¼Œæ ¹æ®ç½‘ç»œå¸¦å®½åŠ¨æ€è°ƒæ•´ç¼–ç ç ç‡ã€‚

**åŒæ­¥**ï¼šç¡®ä¿éŸ³è§†é¢‘é‡‡é›†å’Œç¼–ç çš„æ—¶é—´æˆ³å¯¹é½ï¼Œé¿å…éŸ³ç”»ä¸åŒæ­¥ã€‚

---

### 06-WebRTC ä½å»¶è¿Ÿï¼šå¼€å¯å®æ—¶éŸ³è§†é¢‘é€šä¿¡

WebRTCï¼ˆWeb Real-Time Communicationï¼‰æ˜¯ä¸€å¥—å¼€æ”¾æ ‡å‡†å’Œ APIï¼Œå…è®¸å¼€å‘è€…åœ¨æµè§ˆå™¨å’Œç§»åŠ¨åº”ç”¨ä¸­å®ç°é«˜è´¨é‡çš„å®æ—¶é€šä¿¡ã€‚å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºç‚¹å¯¹ç‚¹è¿æ¥å’Œè¶…ä½å»¶è¿Ÿã€‚

#### ä¸€ã€WebRTC çš„æ ¸å¿ƒæ¦‚å¿µï¼šç†è§£ P2P è¿æ¥çš„é­”æ³•

WebRTC çš„ç¥å¥‡ä¹‹å¤„åœ¨äºï¼Œå®ƒé€šè¿‡ä¸€ç³»åˆ—åè®®å’ŒæœåŠ¡å™¨çš„åä½œï¼Œè®©ä¸¤ä¸ªç«¯ç‚¹ï¼ˆPeersï¼‰èƒ½å¤Ÿç›´æ¥å‘ç°å½¼æ­¤å¹¶å»ºç«‹è¿æ¥ã€‚

#### 1. SDP

**ä½œç”¨**ï¼šSDP å°±åƒä¸€ä¸ªä¸ªäººåç‰‡ï¼Œå®ƒåŒ…å«äº†æœ¬ç«¯è®¾å¤‡çš„éŸ³è§†é¢‘èƒ½åŠ›ã€æ”¯æŒçš„ç¼–è§£ç å™¨ã€ä¼ è¾“åè®®ç­‰ä¿¡æ¯ã€‚

**åœ¨ WebRTC ä¸­çš„åº”ç”¨**ï¼šå½“ä¸€ä¸ª WebRTC å®¢æˆ·ç«¯å‡†å¤‡å¥½å‘èµ·é€šè¯æ—¶ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ª SDP å¯¹è±¡ï¼ˆé€šå¸¸ç§°ä¸º Offerï¼‰ï¼Œç„¶åé€šè¿‡ä¿¡ä»¤æœåŠ¡å™¨å‘é€ç»™å¯¹æ–¹ã€‚

#### 2. Offer/Answer æ¨¡å‹

**ä½œç”¨**ï¼šè¿™æ˜¯ WebRTC å»ºç«‹è¿æ¥çš„æ¡æ‰‹è¿‡ç¨‹ã€‚

**å·¥ä½œæµç¨‹**ï¼š

- å‘èµ·ç«¯åˆ›å»ºå¹¶å‘é€ä¸€ä¸ªåŒ…å«è‡ªå·±åª’ä½“ä¿¡æ¯çš„ Offer SDPã€‚

- æ¥æ”¶ç«¯æ”¶åˆ° Offer åï¼Œä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«è‡ªå·±åª’ä½“ä¿¡æ¯çš„ Answer SDPã€‚

- Answer è¢«é€å›å‘èµ·ç«¯ï¼ŒåŒæ–¹éƒ½çŸ¥æ™“äº†å¯¹æ–¹çš„èƒ½åŠ›ï¼Œä¸ºåç»­çš„æ•°æ®ä¼ è¾“åšå¥½äº†å‡†å¤‡ã€‚

#### 3. ICE/STUN/TURN æœåŠ¡å™¨

**ä½œç”¨**ï¼šå¸®åŠ©ä¸¤ä¸ªä½äºä¸åŒç½‘ç»œï¼ˆå¦‚ NAT åé¢ï¼‰çš„ç«¯ç‚¹æ‰¾åˆ°å½¼æ­¤çš„çœŸå®ç½‘ç»œåœ°å€ã€‚

**å·¥ä½œåŸç†**ï¼š

- STUN ï¼šåƒä¸€ä¸ªä¿¡ä½¿ï¼Œå¸®åŠ©ç«¯ç‚¹è·å–è‡ªå·±çš„å…¬ç½‘ IP åœ°å€å’Œç«¯å£ã€‚

- TURN ï¼šå½“ P2P è¿æ¥æ— æ³•ç›´æ¥å»ºç«‹æ—¶ï¼ˆå¦‚ä¸¥æ ¼çš„é˜²ç«å¢™ï¼‰ï¼ŒTURN æœåŠ¡å™¨ä¼šä½œä¸ºä¸€ä¸ªä¸­ç»§å™¨ï¼Œè½¬å‘åŒæ–¹çš„æ•°æ®æµã€‚è¿™ä¼šå¢åŠ å»¶è¿Ÿï¼Œä½†èƒ½ä¿è¯è¿æ¥æˆåŠŸã€‚

- ICE ï¼šä¸€ç§æ¡†æ¶ï¼Œå®ƒæ•´åˆäº† STUN å’Œ TURNï¼Œè‡ªåŠ¨å°è¯•å„ç§æ–¹å¼æ¥å»ºç«‹æœ€ä½³è¿æ¥ã€‚

#### äºŒã€ä¿¡ä»¤æœåŠ¡å™¨ï¼šä¸å¯æˆ–ç¼ºçš„â€œåª’äººâ€

WebRTC API æœ¬èº«ä¸æä¾›ä¿¡ä»¤æœºåˆ¶ã€‚å®ƒéœ€è¦ä¸€ä¸ªå¤–éƒ¨é€šé“ï¼ˆä¿¡ä»¤æœåŠ¡å™¨ï¼‰æ¥äº¤æ¢ SDP å’Œ ICE å€™é€‰ç­‰å…ƒæ•°æ®ï¼Œå°±åƒä¸€ä¸ªåª’äººæ’®åˆåŒæ–¹è§é¢ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

1. å»ºç«‹è¿æ¥ï¼šå½“ç”¨æˆ· A å‘¼å«ç”¨æˆ· B æ—¶ï¼Œä¿¡ä»¤æœåŠ¡å™¨è´Ÿè´£é€šçŸ¥ Bï¼Œå¹¶ä¼ é€’ A çš„ Offerã€‚

2. äº¤æ¢ SDPï¼šä¼ é€’ Offer å’Œ Answerã€‚

3. äº¤æ¢ ICE å€™é€‰ï¼šåœ¨å‘ç°å¯ç”¨çš„ç½‘ç»œåœ°å€åï¼Œä¿¡ä»¤æœåŠ¡å™¨è´Ÿè´£ä¼ é€’è¿™äº›åœ°å€ä¿¡æ¯ã€‚

**å®ç°æŠ€æœ¯**ï¼š

- ä¿¡ä»¤æœåŠ¡å™¨é€šå¸¸åŸºäº WebSocket å®ç°ã€‚WebSocket çš„æŒä¹…è¿æ¥ç‰¹æ€§éå¸¸é€‚åˆè¿™ç§å®æ—¶ã€åŒå‘çš„å…ƒæ•°æ®äº¤æ¢ã€‚

- ä½ å¯ä»¥ä½¿ç”¨ Node.js + Socket.io æ¥å¿«é€Ÿæ­å»ºä¸€ä¸ªç®€å•çš„ä¿¡ä»¤æœåŠ¡å™¨ã€‚

---
#### ä¸‰ã€å®æˆ˜ï¼šç®€å•çš„ P2P è§†é¢‘é€šè¯ Demo

**WebRTC P2P è§†é¢‘é€šè¯ Demo**

è¿™ä¸ª Demo æ—¨åœ¨é€šè¿‡æœ€ç²¾ç®€çš„ä»£ç ï¼Œå±•ç¤º WebRTC çš„æ ¸å¿ƒå·¥ä½œæµç¨‹ï¼š

æ–‡ä»¶ç»“æ„
```text
.
â”œâ”€â”€ server.js               # Node.js ä¿¡ä»¤æœåŠ¡å™¨
â””â”€â”€ index.html              # å‰ç«¯é¡µé¢
```

**åç«¯ï¼š`server.js` (Node.js ä¿¡ä»¤æœåŠ¡å™¨)**

è¿™ä¸ªæœåŠ¡å™¨ä½¿ç”¨ `ws` åº“æ¥å¤„ç† WebSocket è¿æ¥ï¼Œå…¶æ ¸å¿ƒä»»åŠ¡å°±æ˜¯å°†ä¸€ä¸ªå®¢æˆ·ç«¯çš„æ¶ˆæ¯è½¬å‘ç»™å¦ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚

é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… `ws` åº“ï¼š
```bash
npm install ws
```

ç„¶åï¼Œåˆ›å»º `server.js` æ–‡ä»¶ï¼š
```JavaScript
const WebSocket = require('ws');
const wss = new WebSocket.Server({ port: 8080 });

console.log('ä¿¡ä»¤æœåŠ¡å™¨å·²å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ 8080');

// å­˜å‚¨å·²è¿æ¥çš„å®¢æˆ·ç«¯
const clients = new Set();

wss.on('connection', ws => {
  clients.add(ws);
  console.log(`æ–°å®¢æˆ·ç«¯å·²è¿æ¥ã€‚å½“å‰è¿æ¥æ•°: ${clients.size}`);

  ws.on('message', message => {
    // æ”¶åˆ°æ¶ˆæ¯åï¼Œå°†å…¶å¹¿æ’­ç»™æ‰€æœ‰å…¶ä»–å®¢æˆ·ç«¯
    clients.forEach(client => {
      if (client !== ws && client.readyState === WebSocket.OPEN) {
        client.send(message);
      }
    });
  });

  ws.on('close', () => {
    clients.delete(ws);
    console.log(`å®¢æˆ·ç«¯å·²æ–­å¼€è¿æ¥ã€‚å½“å‰è¿æ¥æ•°: ${clients.size}`);
  });

  ws.on('error', error => {
    console.error('WebSocket é”™è¯¯:', error);
  });
});
```

è¿è¡ŒæœåŠ¡å™¨ï¼š
```bash
node server.js
```

**å‰ç«¯ï¼š`index.html`**
```HTML
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>WebRTC P2P è§†é¢‘é€šè¯ Demo</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; text-align: center; background-color: #f0f2f5; padding-top: 50px; }
    h1 { color: #333; }
    .videos { display: flex; justify-content: center; gap: 20px; margin-top: 30px; }
    video { width: 45%; max-width: 600px; border: 2px solid #ccc; border-radius: 8px; background-color: #000; }
    #local-video { border-color: #4CAF50; }
    #remote-video { border-color: #2196F3; }
    button { padding: 10px 20px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; background-color: #007bff; color: white; }
    button:disabled { background-color: #a0a0a0; cursor: not-allowed; }
  </style>
</head>
<body>

  <h1>WebRTC P2P è§†é¢‘é€šè¯</h1>
  <button id="call-btn">å‘èµ·å‘¼å«</button>

  <div class="videos">
    <div class="video-container">
      <h3>æˆ‘çš„è§†é¢‘</h3>
      <video id="local-video" autoplay playsinline muted></video>
    </div>
    <div class="video-container">
      <h3>å¯¹æ–¹è§†é¢‘</h3>
      <video id="remote-video" autoplay playsinline></video>
    </div>
  </div>

<script>
  // æ ¸å¿ƒå˜é‡
  let localStream;
  let peerConnection;
  let isCaller = false;

  // è·å– DOM å…ƒç´ 
  const localVideo = document.getElementById('local-video');
  const remoteVideo = document.getElementById('remote-video');
  const callBtn = document.getElementById('call-btn');

  // åˆå§‹åŒ– WebSocket
  const ws = new WebSocket('ws://localhost:8080');

  ws.onmessage = async (event) => {
    const message = JSON.parse(event.data);
    
    // å¦‚æœæ˜¯ Offerï¼Œåˆ™åˆ›å»º PeerConnection å¹¶å‘é€ Answer
    if (message.type === 'offer') {
      isCaller = false;
      peerConnection = createPeerConnection();
      await peerConnection.setRemoteDescription(new RTCSessionDescription(message));
      const answer = await peerConnection.createAnswer();
      await peerConnection.setLocalDescription(answer);
      ws.send(JSON.stringify(answer));
    } else if (message.type === 'answer') {
      // å¦‚æœæ˜¯ Answerï¼Œåˆ™è®¾ç½®è¿œç¨‹æè¿°
      await peerConnection.setRemoteDescription(new RTCSessionDescription(message));
    } else if (message.type === 'candidate') {
      // å¦‚æœæ˜¯ ICE å€™é€‰ï¼Œåˆ™æ·»åŠ 
      await peerConnection.addIceCandidate(new RTCIceCandidate(message));
    }
  };

  callBtn.onclick = async () => {
    isCaller = true;
    callBtn.disabled = true;
    localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
    localVideo.srcObject = localStream;

    peerConnection = createPeerConnection();
    
    // æ·»åŠ æœ¬åœ°éŸ³è§†é¢‘æµåˆ° PeerConnection
    localStream.getTracks().forEach(track => {
      peerConnection.addTrack(track, localStream);
    });

    const offer = await peerConnection.createOffer();
    await peerConnection.setLocalDescription(offer);
    ws.send(JSON.stringify(offer));
  };

  function createPeerConnection() {
    const pc = new RTCPeerConnection({
      iceServers: [
        { urls: 'stun:stun.l.google.com:19302' } // è°·æ­Œæä¾›çš„ STUN æœåŠ¡å™¨
      ]
    });
    
    // ç›‘å¬ ICE å€™é€‰äº‹ä»¶ï¼Œå¹¶å‘é€ç»™å¯¹æ–¹
    pc.onicecandidate = (event) => {
      if (event.candidate) {
        ws.send(JSON.stringify(event.candidate));
      }
    };

    // ç›‘å¬è¿œç¨‹æµäº‹ä»¶ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåˆ°è¿œç¨‹è§†é¢‘å…ƒç´ ä¸­
    pc.ontrack = (event) => {
      if (event.streams && event.streams[0]) {
        remoteVideo.srcObject = event.streams[0];
      }
    };
    
    return pc;
  }
</script>
</body>
</html>
```

**è¿è¡Œæ­¥éª¤**

1. å¯åŠ¨ä¿¡ä»¤æœåŠ¡å™¨ï¼šæ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥ Demo æ–‡ä»¶å¤¹ï¼Œè¿è¡Œ node server.jsã€‚

2. æ‰“å¼€æµè§ˆå™¨ï¼šç”¨ä½ çš„æµè§ˆå™¨ï¼ˆæ¨è Chrome æˆ– Firefoxï¼‰æ‰“å¼€ index.htmlã€‚

3. å¼€å§‹é€šè¯ï¼š

  - åœ¨ç¬¬ä¸€ä¸ª Tab ä¸­ï¼Œç‚¹å‡» â€œå‘èµ·å‘¼å«â€ æŒ‰é’®ã€‚æµè§ˆå™¨ä¼šè¯·æ±‚æ‘„åƒå¤´å’Œéº¦å…‹é£æƒé™ï¼Œç„¶åä½ çš„è§†é¢‘ä¼šå‡ºç°åœ¨å·¦ä¾§ã€‚

  - åœ¨ç¬¬äºŒä¸ª Tab ä¸­ï¼Œç­‰å¾…å‡ ç§’é’Ÿã€‚å½“å®ƒæ”¶åˆ°ç¬¬ä¸€ä¸ª Tab çš„ Offer åï¼Œä¼šè‡ªåŠ¨å»ºç«‹è¿æ¥ï¼Œå¹¶å¼€å§‹æ˜¾ç¤ºå¯¹æ–¹çš„è§†é¢‘ã€‚

---

### 07-éŸ³è§†é¢‘å¤„ç†è¿›é˜¶ï¼šæå‡è§†å¬ä½“éªŒçš„é­”æ³•

éŸ³è§†é¢‘å¤„ç†ä¸ä»…ä»…æ˜¯è®©æ•°æ®åŠ¨èµ·æ¥ï¼Œæ›´é‡è¦çš„æ˜¯è®©å…¶â€œæ›´å¥½çœ‹ã€æ›´å¥½å¬â€ã€‚è¿™éƒ¨åˆ†å†…å®¹èšç„¦äºå¦‚ä½•åœ¨ç¼–ç å’Œä¼ è¾“ä¹‹å¤–ï¼Œå¯¹éŸ³è§†é¢‘æ•°æ®è¿›è¡Œç²¾ç»†åŒ–çš„åå¤„ç†ï¼Œä»¥è¾¾åˆ°æå‡ç”»è´¨ã€ç¾åŒ–å£°éŸ³çš„æ•ˆæœã€‚

#### ä¸€ã€è§†é¢‘æ»¤é•œä¸ç‰¹æ•ˆï¼šè®©ç”»é¢æ›´å…·è¡¨ç°åŠ›
è§†é¢‘æ»¤é•œå’Œç‰¹æ•ˆæ˜¯ç›´æ’­ã€çŸ­è§†é¢‘åº”ç”¨çš„æ ¸å¿ƒç«äº‰åŠ›ä¹‹ä¸€ã€‚å®ƒä»¬é€šå¸¸ä»¥æ»¤é•œé“¾ï¼ˆFilter Chainï¼‰çš„å½¢å¼å®ç°ï¼Œå°†ä¸€ç³»åˆ—å¤„ç†æ­¥éª¤ä¸²è”èµ·æ¥ã€‚

#### 1. åŸºäº FFmpeg libavfilter çš„æ»¤é•œé“¾

FFmpeg å¼ºå¤§çš„ libavfilter åº“æä¾›äº†æ•°ç™¾ç§æ»¤é•œï¼Œé€šè¿‡ç®€å•çš„å‘½ä»¤è¡Œå°±èƒ½å®ç°å¤æ‚çš„æ•ˆæœã€‚è¿™æ˜¯ç¦»çº¿å¤„ç†æˆ–æœåŠ¡å™¨ç«¯è½¬ç çš„é¦–é€‰æ–¹æ¡ˆã€‚

**æ°´å°å åŠ **ï¼šåœ¨è§†é¢‘ä¸Šå åŠ å›¾ç‰‡æˆ–æ–‡å­—ã€‚
```bash
# åœ¨è§†é¢‘çš„å³ä¸‹è§’æ·»åŠ ä¸€ä¸ªåŠé€æ˜çš„ PNG æ°´å°
ffmpeg -i input.mp4 -i logo.png -filter_complex "overlay=W-w-10:H-h-10:enable='between(t,5,15)'" output.mp4
```
- `overlay` æ»¤é•œå°†ç¬¬äºŒä¸ªè¾“å…¥æµï¼ˆlogoï¼‰å åŠ åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æµï¼ˆè§†é¢‘ï¼‰ä¸Šã€‚

- `enable='between(t,5,15)'` å‚æ•°æ§åˆ¶æ°´å°åœ¨è§†é¢‘çš„ 5 åˆ° 15 ç§’ä¹‹é—´å‡ºç°ã€‚

**è§†é¢‘ç¼©æ”¾ä¸è£å‰ª**ï¼šè°ƒæ•´è§†é¢‘çš„åˆ†è¾¨ç‡æˆ–ç”»é¢ã€‚
```bash
# å°†è§†é¢‘ç¼©æ”¾ä¸º 640x360
ffmpeg -i input.mp4 -vf scale=640:360 output.mp4

# è£å‰ªè§†é¢‘ï¼Œä»å·¦ä¸Šè§’ (100, 200) å¤„è£å‰ª 800x600 çš„åŒºåŸŸ
ffmpeg -i input.mp4 -vf crop=800:600:100:200 output.mp4
```

**è‰²å½©è°ƒæ•´**ï¼šè°ƒæ•´è§†é¢‘çš„äº®åº¦ã€å¯¹æ¯”åº¦ã€é¥±å’Œåº¦ç­‰ã€‚
```bash
# å¢åŠ å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦
ffmpeg -i input.mp4 -vf "eq=contrast=1.5:saturation=1.2" output.mp4
```

#### 2. åŸºäº GPU æ¸²æŸ“çš„å®æ—¶æ»¤é•œ

åœ¨å®æ—¶ç›´æ’­å’Œè§†é¢‘é€šè¯åœºæ™¯ä¸­ï¼Œæ»¤é•œå¤„ç†å¿…é¡»åœ¨æçŸ­çš„æ—¶é—´å†…å®Œæˆã€‚è¿™é€šå¸¸éœ€è¦åˆ©ç”¨ GPU çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œé€šè¿‡ OpenGL ES (è·¨å¹³å°) æˆ– Metal (iOS/macOS) æ¥å®ç°ã€‚

**æ¸²æŸ“æµç¨‹**ï¼š

1. ä»æ‘„åƒå¤´è·å– YUV æ ¼å¼çš„è§†é¢‘å¸§ã€‚

2. å°† YUV æ•°æ®ä¸Šä¼ åˆ° GPU çº¹ç†ã€‚

3. ä½¿ç”¨ç€è‰²å™¨ï¼ˆShaderï¼‰ å¯¹çº¹ç†è¿›è¡Œå¤„ç†ï¼ˆå¦‚ç¾é¢œç®—æ³•ï¼‰ã€‚

4. å°†å¤„ç†åçš„çº¹ç†æ¸²æŸ“åˆ°å±å¹•æˆ–é€å…¥ç¼–ç å™¨ã€‚

**ç¾é¢œå®ç°**ï¼šç¾é¢œæ»¤é•œé€šå¸¸æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š

* ç£¨çš®ï¼šé€šè¿‡åŒè¾¹æ»¤æ³¢ã€é«˜æ–¯æ¨¡ç³Šç­‰ç®—æ³•å¹³æ»‘çš®è‚¤ã€‚

* å¤§çœ¼ï¼šé€šè¿‡å½¢å˜ç®—æ³•è°ƒæ•´çœ¼ç›å¤§å°ã€‚

* ç˜¦è„¸ï¼šé€šè¿‡å½¢å˜ç®—æ³•è°ƒæ•´è„¸éƒ¨è½®å»“ã€‚

#### äºŒã€éŸ³æ•ˆå¤„ç†ï¼šè®©å£°éŸ³æ›´æ¸…æ™°åŠ¨å¬

åœ¨å˜ˆæ‚çš„ç¯å¢ƒä¸‹è¿›è¡Œè¯­éŸ³é€šè¯æˆ–ç›´æ’­ï¼Œéœ€è¦å¯¹éŸ³é¢‘è¿›è¡Œå®æ—¶å¤„ç†ï¼Œä»¥æ¶ˆé™¤å™ªéŸ³ã€å›å£°ï¼Œå¹¶ç¡®ä¿éŸ³é‡ç¨³å®šã€‚

**å›å£°æ¶ˆé™¤**

- åŸç†ï¼šåœ¨è¯­éŸ³é€šè¯ä¸­ï¼Œéº¦å…‹é£ä¼šé‡‡é›†åˆ°ä»æ‰¬å£°å™¨ä¼ æ¥çš„å¯¹æ–¹å£°éŸ³ï¼Œå½¢æˆå›å£°ã€‚AEC é€šè¿‡ç®—æ³•è¯†åˆ«å¹¶æ¶ˆé™¤è¿™éƒ¨åˆ†å›å£°ï¼Œä»¥ä¿è¯åŒæ–¹é€šè¯æ¸…æ™°ã€‚

- åœ¨ WebRTC ä¸­çš„åº”ç”¨ï¼šWebRTC é»˜è®¤é›†æˆäº†é«˜æ€§èƒ½çš„ AEC æ¨¡å—ï¼Œæ˜¯å…¶éŸ³é¢‘å¤„ç†çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ã€‚

**é™å™ª**

- åŸç†ï¼šæ¶ˆé™¤èƒŒæ™¯ä¸­çš„å›ºå®šæˆ–éå›ºå®šå™ªå£°ï¼Œå¦‚é£æ‰‡å£°ã€é”®ç›˜æ•²å‡»å£°ç­‰ã€‚

- å®ç°ï¼šé€šå¸¸é€šè¿‡é¢‘è°±åˆ†æï¼Œå°†éŸ³é¢‘åˆ†è§£ä¸ºä¸åŒé¢‘ç‡ï¼Œç„¶åè¯†åˆ«å¹¶æŠ‘åˆ¶å™ªå£°é¢‘ç‡ï¼Œåªä¿ç•™äººå£°ã€‚

**è‡ªåŠ¨å¢ç›Šæ§åˆ¶**

- åŸç†ï¼šè‡ªåŠ¨è°ƒæ•´éº¦å…‹é£çš„å¢ç›Šï¼Œä½¿é‡‡é›†åˆ°çš„å£°éŸ³å“åº¦ä¿æŒåœ¨ä¸€ä¸ªç¨³å®šçš„ã€ç†æƒ³çš„æ°´å¹³ï¼Œé¿å…å£°éŸ³å¿½å¤§å¿½å°ã€‚

- åº”ç”¨ï¼šåœ¨é€šè¯æ—¶ï¼Œå³ä½¿è¯´è¯è€…ç¦»éº¦å…‹é£è¿œè¿‘ä¸åŒï¼Œå¯¹æ–¹å¬åˆ°çš„å£°éŸ³å“åº¦ä¹Ÿä¸ä¼šæœ‰å¤ªå¤§å˜åŒ–ã€‚

**æ··éŸ³**

- åŸç†ï¼šå°†å¤šä¸ªéŸ³è½¨ï¼ˆå¦‚èƒŒæ™¯éŸ³ä¹ã€éº¦å…‹é£äººå£°ã€ç‰¹æ•ˆéŸ³ï¼‰æ··åˆæˆä¸€ä¸ªéŸ³è½¨ã€‚

- åº”ç”¨ï¼šç›´æ’­å¸¦è´§æ—¶ï¼Œéœ€è¦å°†ä¸»æ’­çš„å£°éŸ³å’ŒèƒŒæ™¯éŸ³ä¹æ··åˆåœ¨ä¸€èµ·ï¼›å¤šäººè¯­èŠæˆ¿æ—¶ï¼Œéœ€è¦å°†æ‰€æœ‰äººçš„å£°éŸ³æ··åˆåœ¨ä¸€èµ·ã€‚

---

### 08-æ€§èƒ½ä¼˜åŒ–ä¸è°ƒè¯•ï¼šè§£å†³å¡é¡¿ã€å»¶è¿Ÿä¸èŠ±å±

åœ¨éŸ³è§†é¢‘é¢†åŸŸï¼Œæ€§èƒ½é—®é¢˜æ˜¯å¸¸æ€ã€‚æ— è®ºæ˜¯ç›´æ’­å¡é¡¿ã€è§†é¢‘é€šè¯å»¶è¿Ÿï¼Œè¿˜æ˜¯å½•åˆ¶æ–‡ä»¶æŸåï¼Œéƒ½éœ€è¦ç³»ç»ŸåŒ–çš„æ–¹æ³•æ¥å®šä½å’Œè§£å†³ã€‚

#### ä¸€ã€ç ç‡æ§åˆ¶ä¸ç”»è´¨æƒè¡¡

ç ç‡ï¼ˆBitrateï¼‰ æ˜¯æŒ‡å•ä½æ—¶é—´å†…ä¼ è¾“çš„æ¯”ç‰¹æ•°ï¼Œæ˜¯å½±å“ç”»è´¨å’Œæ–‡ä»¶å¤§å°çš„æ ¸å¿ƒå‚æ•°ã€‚ç ç‡æ§åˆ¶ç®—æ³•å†³å®šäº†å¦‚ä½•åˆ†é…è¿™äº›æ¯”ç‰¹ï¼Œä»¥å¹³è¡¡ç”»è´¨ã€æ–‡ä»¶å¤§å°å’Œç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚

**CBR (Constant Bitrate)ï¼šå›ºå®šç ç‡**

- åŸç†ï¼šåœ¨æ•´ä¸ªç¼–ç è¿‡ç¨‹ä¸­ï¼Œä¿æŒç ç‡åŸºæœ¬ä¸å˜ã€‚

- ä¼˜ç‚¹ï¼šæ–‡ä»¶å¤§å°å¯é¢„æµ‹ï¼Œé€‚åˆç½‘ç»œå¸¦å®½å›ºå®šçš„æµåª’ä½“ä¼ è¾“ã€‚

- ç¼ºç‚¹ï¼šå½“è§†é¢‘å†…å®¹å¤æ‚æ—¶ï¼ˆå¦‚å¿«é€Ÿè¿åŠ¨ï¼‰ï¼Œå›ºå®šç ç‡å¯èƒ½å¯¼è‡´ç”»è´¨ä¸‹é™ï¼›å½“å†…å®¹ç®€å•æ—¶ï¼Œåˆä¼šæµªè´¹å¸¦å®½ã€‚

**VBR (Variable Bitrate)ï¼šå¯å˜ç ç‡**

- åŸç†ï¼šæ ¹æ®è§†é¢‘å†…å®¹çš„å¤æ‚æ€§åŠ¨æ€è°ƒæ•´ç ç‡ã€‚

- ä¼˜ç‚¹ï¼šåœ¨ä¿è¯ç”»è´¨çš„å‰æä¸‹ï¼Œå¯ä»¥è·å¾—æ›´å°çš„æ–‡ä»¶å¤§å°ã€‚

- ç¼ºç‚¹ï¼šæ–‡ä»¶å¤§å°ä¸å¯é¢„æµ‹ï¼Œä¸é€‚åˆå¯¹å¸¦å®½è¦æ±‚ä¸¥æ ¼çš„å®æ—¶æµåª’ä½“ã€‚

**CRF (Constant Rate Factor)ï¼šå›ºå®šè´¨é‡å› å­**

- åŸç†ï¼šç¡®ä¿æ¯ä¸€å¸§éƒ½è¾¾åˆ°è®¾å®šçš„ç›®æ ‡è´¨é‡ï¼Œç”±ç¼–ç å™¨è‡ªåŠ¨å†³å®šç ç‡ã€‚

- ä¼˜ç‚¹ï¼šåœ¨ä¿è¯æœ€ä½³ç”»è´¨çš„å‰æä¸‹ï¼Œå‹ç¼©æ•ˆç‡æœ€é«˜ã€‚

- ç¼ºç‚¹ï¼šæ–‡ä»¶å¤§å°å’Œæœ€ç»ˆç ç‡å®Œå…¨ä¸å¯é¢„æµ‹ï¼Œä¸é€‚åˆå®æ—¶ä¼ è¾“ï¼Œä½†éå¸¸é€‚åˆç¦»çº¿è½¬ç ã€‚

#### äºŒã€ç½‘ç»œæŠ–åŠ¨å¤„ç†

ç½‘ç»œæŠ–åŠ¨ï¼ˆJitterï¼‰æ˜¯æŒ‡æ•°æ®åŒ…åˆ°è¾¾æ—¶é—´çš„æ³¢åŠ¨ã€‚åœ¨éŸ³è§†é¢‘æµä¸­ï¼Œç½‘ç»œæŠ–åŠ¨ä¼šå¯¼è‡´æ’­æ”¾å¡é¡¿ã€éŸ³ç”»ä¸åŒæ­¥ã€‚

**æ’­æ”¾å™¨ç¼“å­˜ (Buffer)**

- åŸç†ï¼šåœ¨æ’­æ”¾å‰å…ˆç¼“å­˜ä¸€éƒ¨åˆ†éŸ³è§†é¢‘æ•°æ®ï¼Œå½“ç½‘ç»œå‡ºç°çŸ­æš‚æ³¢åŠ¨æ—¶ï¼Œæ’­æ”¾å™¨å¯ä»¥ä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ï¼Œè€Œä¸æ˜¯ç­‰å¾…ç½‘ç»œï¼Œä»è€Œå¹³æ»‘æ’­æ”¾ã€‚

- ä¼˜åŒ–ç‚¹ï¼šéœ€è¦æ ¹æ®ç½‘ç»œçŠ¶å†µåŠ¨æ€è°ƒæ•´ç¼“å­˜å¤§å°ã€‚ç¼“å­˜è¿‡å¤§å¯èƒ½å¢åŠ å»¶è¿Ÿï¼Œç¼“å­˜è¿‡å°åˆ™å®¹æ˜“å¡é¡¿ã€‚

**Jitter Buffer (æŠ–åŠ¨ç¼“å†²åŒº)**

- åŸç†ï¼šè¿™æ˜¯åœ¨å®æ—¶é€šä¿¡ï¼ˆå¦‚ WebRTCï¼‰ä¸­ä½¿ç”¨çš„ä¸“ç”¨ç¼“å†²åŒºã€‚å®ƒä¼šæ”¶é›†ä¹±åºæˆ–æŠ–åŠ¨çš„æ•°æ®åŒ…ï¼Œé‡æ–°æ’åºåä»¥å¹³æ»‘çš„é€Ÿç‡æä¾›ç»™è§£ç å™¨ã€‚

- ä¼˜åŒ–ç‚¹ï¼šå¯ä»¥æ ¹æ®ç½‘ç»œå»¶è¿ŸåŠ¨æ€è°ƒæ•´ç¼“å†²åŒºå¤§å°ã€‚è¿‡å¤§çš„ç¼“å†²åŒºä¼šå¢åŠ å»¶è¿Ÿï¼Œè€Œè¿‡å°çš„ç¼“å†²åŒºåˆ™å¯èƒ½å¯¼è‡´ä¸¢åŒ…å’Œå¡é¡¿ã€‚

#### ä¸‰ã€æ€§èƒ½åˆ†æå·¥å…·

ç†Ÿç»ƒä½¿ç”¨æ€§èƒ½å·¥å…·æ˜¯è¯Šæ–­é—®é¢˜çš„åŸºç¡€ã€‚

**ç æµåˆ†æå·¥å…·**

- MediaInfoï¼šå¯ä»¥å¿«é€ŸæŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ç¼–ç æ ¼å¼ã€ç ç‡ã€å¸§ç‡ã€GOP ç»“æ„ç­‰ã€‚

- H.264 Stream Analyzerï¼šç”¨äºæ·±å…¥åˆ†æ H.264 ç æµï¼ŒæŸ¥çœ‹æ¯ä¸ª NALUï¼ˆç½‘ç»œæŠ½è±¡å±‚å•å…ƒï¼‰çš„ç±»å‹å’Œæ•°æ®ã€‚

**ç½‘ç»œåˆ†æå·¥å…·**

- Wiresharkï¼šå¼ºå¤§çš„ç½‘ç»œåè®®åˆ†æå™¨ï¼Œå¯ä»¥æ•è·å’Œåˆ†æç½‘ç»œæ•°æ®åŒ…ã€‚åœ¨è°ƒè¯• RTMPã€SRT ç­‰åè®®æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹æ•°æ®åŒ…çš„å‘é€å’Œæ¥æ”¶æƒ…å†µï¼Œå®šä½ä¸¢åŒ…å’Œå»¶è¿Ÿé—®é¢˜ã€‚

- Charles / Fiddlerï¼šHTTP ä»£ç†å·¥å…·ï¼Œç”¨äºåˆ†æ HTTP-FLVã€HLS å’Œ DASH ç­‰åè®®çš„è¯·æ±‚å’Œå“åº”ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹è½½é€Ÿåº¦å’Œç¼“å­˜æƒ…å†µã€‚

**ç³»ç»Ÿæ€§èƒ½å·¥å…·**

- CPU/GPU å ç”¨ï¼šä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„å·¥å…·ï¼ˆå¦‚ Windows ä»»åŠ¡ç®¡ç†å™¨ã€macOS æ´»åŠ¨ç›‘è§†å™¨ï¼‰æˆ–æ›´ä¸“ä¸šçš„å·¥å…·ï¼ˆå¦‚ Android Studio Profilerï¼‰æ¥ç›‘æ§ CPU å’Œ GPU å ç”¨ç‡ï¼Œåˆ¤æ–­æ€§èƒ½ç“¶é¢ˆæ˜¯åœ¨ç¼–è§£ç è¿˜æ˜¯æ¸²æŸ“ç¯èŠ‚ã€‚

- å†…å­˜æ³„æ¼ï¼šåœ¨é•¿æ—¶é—´è¿è¡Œçš„æµåª’ä½“åº”ç”¨ä¸­ï¼Œéœ€è¦ä½¿ç”¨å†…å­˜åˆ†æå·¥å…·ï¼ˆå¦‚ Valgrind æˆ– Android Studio Profilerï¼‰æ¥æ’æŸ¥å†…å­˜æ³„æ¼é—®é¢˜ã€‚

